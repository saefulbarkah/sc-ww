
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputModel=void 0;const ModelBase_1=require("../../Core/Framework/ModelBase"),Switcher_1=require("../Utils/Switcher"),InputLayer_1=require("./InputLayer");class InputModel extends ModelBase_1.ModelBase{constructor(){super(...arguments),this.jMe=new Map([[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0]]),this.WMe=new Array,this.KMe=new Map,this.QMe=new Map,this.oah=new Map,this.OnlyMoveForward=new Switcher_1.Switcher(!1),this.IsOpenInputAxisLog=!1,this.HQa=!1}GetHandlers(){return this.WMe}GetPressTimes(){return this.KMe}GetAxisValues(){return this.QMe}get LastClearAxisValue(){return this.HQa}ResetLastTemporaryClearAxisValues(){this.HQa=!1}TemporaryClearAxisValues(){this.HQa=!0,this.QMe.clear()}NextFrameRefreshAxisValues(){this.HQa=!0}QueryCommandPriority(e){return this.jMe.get(e)}AddInputHandler(e){this.WMe.includes(e)||(this.WMe.push(e),this.WMe.sort((e,t)=>t.GetPriority()-e.GetPriority()))}RemoveInputHandler(e){e=this.WMe.indexOf(e);-1!==e&&this.WMe.splice(e,1)}OnClear(){this.WMe.splice(0,this.WMe.length),this.KMe.clear(),this.QMe.clear();for(const e of this.oah.values())e.Clear();return this.oah.clear(),!0}AddInputLayer(e,t){let s=this.oah.get(e);s||(s=new InputLayer_1.InputLayerUnit,this.oah.set(e,s)),s.Add(t)}RemoveInputLayer(e){var t=this.oah.get(e.UnitId);t&&(t.Remove(e),0===t.LayerMap.size)&&this.oah.delete(e.UnitId)}GetInputLayer(e,t){return this.oah.get(e)?.LayerMap.get(t)}GetInputLayers(e){return this.oah.get(e)?.GetLayerList()}}exports.InputModel=InputModel;
//# sourceMappingURL=InputModel.js.map