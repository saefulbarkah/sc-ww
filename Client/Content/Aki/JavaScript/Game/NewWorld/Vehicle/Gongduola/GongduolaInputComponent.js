
"use strict";var __decorate=this&&this.__decorate||function(t,e,i,o){var s,n=arguments.length,r=n<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var h=t.length-1;0<=h;h--)(s=t[h])&&(r=(n<3?s(r):3<n?s(e,i,r):s(e,i))||r);return 3<n&&r&&Object.defineProperty(e,i,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.GongduolaInputComponent=void 0;const RegisterComponent_1=require("../../../../Core/Entity/RegisterComponent"),Vector_1=require("../../../../Core/Utils/Math/Vector"),MathUtils_1=require("../../../../Core/Utils/MathUtils"),Global_1=require("../../../Global"),GravityUtils_1=require("../../../Utils/GravityUtils"),VehicleInputComponent_1=require("../Common/VehicleInputComponent");let GongduolaInputComponent=class GongduolaInputComponent extends VehicleInputComponent_1.VehicleInputComponent{constructor(){super(...arguments),this.TmpVector1=Vector_1.Vector.Create(),this.TmpVector2=Vector_1.Vector.Create()}UpdateVehicleInputDirectAndFacing(){this.UpdateMoveCache(),this.ActorComp.SetInputDirect(this.GetWorldMoveDirectionCache(),!0),this.SetInputFacingFromInputDirect()}SetInputFacingFromInputDirect(t=!0){this.MoveDirectionCache.X<0?(this.MoveDirectionCache.UnaryNegation(this.TempVector),this.TempRotator.DeepCopy(this.ActorComp.ActorRotationProxy),GravityUtils_1.GravityUtils.GetQuatFromRotatorAndGravity(this.ActorComp,this.TempRotator,this.TempQuat),this.TempQuat.RotateVector(this.TempVector,this.TmpVector1),this.ActorComp.SetInputFacing(this.TmpVector1)):GravityUtils_1.GravityUtils.GetPlanarSizeSquared2D(this.ActorComp,this.ActorComp.InputDirectProxy)>MathUtils_1.MathUtils.SmallNumber?this.ActorComp.SetInputFacing(this.ActorComp.InputDirectProxy):t&&this.ActorComp.SetInputFacing(this.ActorComp.ActorForwardProxy)}ExecuteSprint(t){this.Entity.GetComponent(221)?.StartSprint()}ExecuteJump(t){this.Entity.GetComponent(221)?.Leave(Global_1.Global.BaseCharacter.CharacterActorComponent.Entity)}};GongduolaInputComponent=__decorate([(0,RegisterComponent_1.RegisterComponent)(222)],GongduolaInputComponent),exports.GongduolaInputComponent=GongduolaInputComponent;
//# sourceMappingURL=GongduolaInputComponent.js.map