
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VehicleConfig=exports.PARAGLIDING_DELAY_MILISECONDS=exports.CATAPULT_TO_AIR_SPEED=void 0;const IComponent_1=require("../../../../UniverseEditor/Interface/IComponent");exports.CATAPULT_TO_AIR_SPEED=3e3,exports.PARAGLIDING_DELAY_MILISECONDS=500;class VehicleConfig{constructor(t,s){this.VehicleEntity=void 0,this.BornTagList=new Array,this.VehicleEnterTags=new Array,this.PassengerEnterTags=new Array,this.CatapultSpeed=exports.CATAPULT_TO_AIR_SPEED,this.ParaglidingDelayTime=exports.PARAGLIDING_DELAY_MILISECONDS,this.VehicleEntity=t;t=this.VehicleEntity.GetComponent(0)?.GetPbEntityInitData();if(t?.ComponentsData){t=(0,IComponent_1.getComponent)(t.ComponentsData,"VehicleComponent");if(t){if(s?.IsValid()){var e=s.载具出生Tag.GameplayTags,i=e.Num();for(let t=0;t<i;t++)this.BornTagList.push(e.Get(t).TagId);var o=s.载具乘坐期间Tag.GameplayTags,r=o.Num();for(let t=0;t<r;t++)this.VehicleEnterTags.push(o.Get(t).TagId);var h=s.角色乘坐期间Tag.GameplayTags,n=h.Num();for(let t=0;t<n;t++)this.PassengerEnterTags.push(h.Get(t).TagId);this.CatapultSpeed=s.弹射速度,this.ParaglidingDelayTime=s.打开滑翔伞延迟时间}t.VehicleBornTag&&(this.BornTagList.length=0,this.BornTagList.push(...t.VehicleBornTag)),t.VehicleRiddenTag&&(this.VehicleEnterTags.length=0,this.VehicleEnterTags.push(...t.VehicleRiddenTag)),t.RoleRiddingTag&&(this.PassengerEnterTags.length=0,this.PassengerEnterTags.push(...t.RoleRiddingTag))}}}Init(){return!!this.VehicleEntity&&(this.SetVehicleBornTags(this.VehicleEntity,!0),!0)}SetVehicleBornTags(t,s){this.AddOrRemoveTags(t,this.BornTagList,s)}AddOrRemoveTags(t,s,e){var i=t.GetComponent(194);if(i)if(e)for(const o of s)i.AddTag(o);else for(const r of s)i.RemoveTag(r)}}exports.VehicleConfig=VehicleConfig;
//# sourceMappingURL=VehicleConfig.js.map