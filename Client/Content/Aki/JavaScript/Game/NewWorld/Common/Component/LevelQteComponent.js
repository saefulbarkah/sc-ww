
"use strict";var LevelQteComponent_1,__decorate=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;0<=s;s--)(r=e[s])&&(l=(i<3?r(l):3<i?r(t,o,l):r(t,o))||l);return 3<i&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LevelQteComponent=void 0;const EntityComponent_1=require("../../../../Core/Entity/EntityComponent"),RegisterComponent_1=require("../../../../Core/Entity/RegisterComponent"),LevelGeneralContextDefine_1=require("../../../LevelGamePlay/LevelGeneralContextDefine"),LevelGeneralController_1=require("../../../LevelGamePlay/LevelGeneralController"),LevelGeneralNetworks_1=require("../../../LevelGamePlay/LevelGeneralNetworks"),CommonQteController_1=require("../../../Module/Qte/CommonQte/CommonQteController");let LevelQteComponent=LevelQteComponent_1=class LevelQteComponent extends EntityComponent_1.EntityComponent{constructor(){super(...arguments),this.EIe=void 0,this.wxl=void 0,this.Bxl=void 0,this.$El=()=>{let e=this.Bxl=void 0,t=void 0;"SingleBtn"===this.wxl?.Type&&(e=this.wxl.SuccessCallback.Actions,t=this.wxl.SuccessCallback.SendSelfEvent,e&&LevelGeneralController_1.LevelGeneralController.ExecuteActionsNew(e,this.UUe()),t)&&LevelGeneralNetworks_1.LevelGeneralNetworks.RequestEntitySendEvent(this.EIe.GetCreatureDataId(),t)},this.bxl=()=>{let e=this.Bxl=void 0,t=void 0;"SingleBtn"===this.wxl?.Type&&(e=this.wxl.FailureCallback.Actions,t=this.wxl.FailureCallback.SendSelfEvent,e&&LevelGeneralController_1.LevelGeneralController.ExecuteActionsNew(e,this.UUe()),t)&&LevelGeneralNetworks_1.LevelGeneralNetworks.RequestEntitySendEvent(this.EIe.GetCreatureDataId(),t)}}OnInitData(e){e=e.GetParam(LevelQteComponent_1)[0];return this.wxl=e.QteConfig,this.EIe=this.Entity.GetComponent(0),!0}StartQte(e=!1){return this.Bxl?.IsActive()&&e&&CommonQteController_1.CommonQteController.StopQte(this.Bxl.HandleId),"SingleBtn"===this.wxl?.Type&&(this.Bxl=CommonQteController_1.CommonQteController.StartQte(this.wxl.QteId,this.$El,this.bxl,1),!this.Bxl)}StopQte(){this.Bxl?.IsActive()&&CommonQteController_1.CommonQteController.StopQte(this.Bxl.HandleId)}IsQteActive(){return this.Bxl?.IsActive()??!1}UUe(){var e=LevelGeneralContextDefine_1.EntityContext.Create(this.Entity.Id);return e.ClientExecuteActions=!0,e}};LevelQteComponent=LevelQteComponent_1=__decorate([(0,RegisterComponent_1.RegisterComponent)(263)],LevelQteComponent),exports.LevelQteComponent=LevelQteComponent;
//# sourceMappingURL=LevelQteComponent.js.map