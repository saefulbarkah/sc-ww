
"use strict";var __decorate=this&&this.__decorate||function(e,i,t,l){var n,o=arguments.length,r=o<3?i:null===l?l=Object.getOwnPropertyDescriptor(i,t):l;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,i,t,l);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(r=(o<3?n(r):3<o?n(i,t,r):n(i,t))||r);return 3<o&&r&&Object.defineProperty(i,t,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CharacterSpecialSkillComponent=void 0;const Log_1=require("../../../../../../Core/Common/Log"),EntityComponent_1=require("../../../../../../Core/Entity/EntityComponent"),RegisterComponent_1=require("../../../../../../Core/Entity/RegisterComponent"),ConfigManager_1=require("../../../../../Manager/ConfigManager"),RoleDefine_1=require("../../../../../Module/RoleUi/RoleDefine"),SpecialSkillKanteleila_1=require("./SpecialSkill/SpecialSkillKanteleila"),SpecialSkillZheZhi_1=require("./SpecialSkill/SpecialSkillZheZhi"),specialSkillTypes=new Map([[1105,SpecialSkillZheZhi_1.SpecialSkillZheZhi],[1607,SpecialSkillKanteleila_1.SpecialSkillKanteleila]]);let CharacterSpecialSkillComponent=class CharacterSpecialSkillComponent extends EntityComponent_1.EntityComponent{constructor(){super(...arguments),this.SpecialSkill=void 0}OnStart(){var e=this.Entity.GetComponent(0);let i=e.GetPbDataId();e?.IsRole()&&i&&i>RoleDefine_1.ROBOT_DATA_MIN_ID&&ConfigManager_1.ConfigManager.RoleConfig&&((e=ConfigManager_1.ConfigManager.RoleConfig.GetTrialRoleConfig(i))?i=e.ParentId:Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Battle",4,"无法找到试用角色数据",["roleId",i]));e=specialSkillTypes.get(i);return e&&(this.SpecialSkill=e.Spawn(this),this.SpecialSkill.OnStart()),!0}OnEnd(){return this.SpecialSkill?.OnEnd(),!0}OnTick(e){this.SpecialSkill?.OnTick(e)}OnEnable(){this.SpecialSkill?.OnEnable()}OnDisable(){this.SpecialSkill?.OnDisable()}};CharacterSpecialSkillComponent=__decorate([(0,RegisterComponent_1.RegisterComponent)(249)],CharacterSpecialSkillComponent),exports.CharacterSpecialSkillComponent=CharacterSpecialSkillComponent;
//# sourceMappingURL=CharacterSpecialSkillComponent.js.map