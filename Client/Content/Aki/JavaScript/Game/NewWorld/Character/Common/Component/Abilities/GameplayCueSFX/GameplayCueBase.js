
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameplayCueBase=void 0;const Log_1=require("../../../../../../../Core/Common/Log");class GameplayCueBase{constructor(t,i,s,e,h,a,n,o){this.CueConfig=t,this.Entity=i,this.ActorInternal=s,this.CueComp=e,this.IsInstant=h,this.BeginCallback=a,this.EndCallback=n,this.Instigator=o,this.BuffId=void 0,this.ActiveHandleId=0,this.IsActive=!1}OnInit(){}OnTick(t){}OnCreate(){}OnDestroy(){}OnEnable(){}OnDisable(){}OnChangeTimeDilation(t){}static Spawn(t){var i=new this(t.CueConfig,t.Entity,t.Actor,t.CueComp,t.Instant,t.BeginCallback,t.EndCallback,t.Instigator);return t.Buff&&(i.ActiveHandleId=t.Buff.Handle,i.BuffId=t.Buff.Id),i.OnInit(),t.Buff&&!t.Buff.IsActive()||i.Create(),i}Create(){this.IsActive||(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Battle",29,"Buff特效开始",["HandleID",this.ActiveHandleId],["BuffId",this.BuffId],["CueId",this.CueConfig.Id],["EntityId",this.Entity.Id]),this.IsActive=!0,this.OnCreate(),this.IsInstant)||this.CueComp.CueSet.add(this)}Destroy(){this.IsActive&&(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Battle",29,"Buff特效结束",["HandleID",this.ActiveHandleId],["BuffId",this.BuffId],["CueId",this.CueConfig.Id],["EntityId",this.Entity.Id]),this.IsActive=!1,this.OnDestroy(),this.CueComp.CueSet.delete(this))}Tick(t){this.IsActive&&this.OnTick(t)}Enable(){this.OnEnable()}Disable(){this.OnDisable()}ChangeTimeDilation(t){this.OnChangeTimeDilation(t)}}exports.GameplayCueBase=GameplayCueBase;
//# sourceMappingURL=GameplayCueBase.js.map