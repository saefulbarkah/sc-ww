
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const puerts_1=require("puerts"),UE=require("ue"),EntitySystem_1=require("../../../../../../Core/Entity/EntitySystem"),ModelManager_1=require("../../../../../Manager/ModelManager"),UiCameraAnimationManager_1=require("../../../../../Module/UiCameraAnimation/UiCameraAnimationManager");class TsVehicleBlueprintFunctionLibrary extends UE.BlueprintFunctionLibrary{static UpdateVehiclePerformData(e,t,a,i){e=EntitySystem_1.EntitySystem.GetComponent(e,217);e&&((0,puerts_1.$set)(t,e.IsBeingImpacted),(0,puerts_1.$set)(a,e.CollisionDirection),(0,puerts_1.$set)(i,e.CollisionStrength))}static UpdateAnimInfo(e){TsVehicleBlueprintFunctionLibrary.UpdateAnimInfoMove(e),TsVehicleBlueprintFunctionLibrary.UpdateAnimInfoUnifiedState(e)}static UpdateAnimInfoMove(e){var t,a,i,r=EntitySystem_1.EntitySystem.GetComponent(e,215);r?.Valid&&(t=r.MainAnimInstance.LogicParams)?.IsValid()&&(r=r.AnimLogicParamsSetter,(a=EntitySystem_1.EntitySystem.GetComponent(e,214))?.Valid&&(i=a.InputDirectProxy,r.InputDirect.Equals(i)||(r.InputDirect.DeepCopy(i),t.InputDirectRef=i.ToUeVector()),i=a.InputRotatorProxy,r.InputRotator.Equals(i)||(r.InputRotator.DeepCopy(i),t.InputRotatorRef=i.ToUeRotator())),(a=EntitySystem_1.EntitySystem.GetComponent(e,216))?.Valid)&&(i=a.Acceleration,r.Acceleration.Equals(i)||(r.Acceleration.DeepCopy(i),t.AccelerationRef=i.ToUeVector()),e=a.IsMoving,r.IsMoving!==e&&(r.IsMoving=e,t.IsMovingRef=e),i=a.HasMoveInput,r.HasMoveInput!==i&&(r.HasMoveInput=i,t.HasMoveInputRef=i),e=a.Speed,r.Speed!==e)&&(r.Speed=e,t.SpeedRef=e)}static UpdateAnimInfoUnifiedState(e){var t,a,e=EntitySystem_1.EntitySystem.GetComponent(e,215);e?.Valid&&(t=e.MainAnimInstance.LogicParams)?.IsValid()&&(e=e.AnimLogicParamsSetter,a=ModelManager_1.ModelManager.PlotModel.IsInInteraction||ModelManager_1.ModelManager.PlotModel.IsInPlot&&"LevelD"!==ModelManager_1.ModelManager.PlotModel.PlotConfig.PlotLevel,e.IsInPerformingPlot!==a&&(e.IsInPerformingPlot=a,t.bIsInPerformingPlot=a),a=ModelManager_1.ModelManager.PlotModel.IsInPlot&&("LevelA"===ModelManager_1.ModelManager.PlotModel.PlotConfig.PlotLevel||"LevelB"===ModelManager_1.ModelManager.PlotModel.PlotConfig.PlotLevel),e.IsInSequence!==a&&(e.IsInSequence=a,t.bIsInSequence=a),a=UiCameraAnimationManager_1.UiCameraAnimationManager.IsDisablePlayer(),e.IsInUiCamera!==a)&&(e.IsInUiCamera=a,t.bIsInUiCamera=a)}}exports.default=TsVehicleBlueprintFunctionLibrary;
//# sourceMappingURL=TsVehicleBlueprintFunctionLibrary.js.map