
"use strict";var SceneItemChessmanComponent_1,__decorate=this&&this.__decorate||function(e,t,n,o){var i,s=arguments.length,r=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var h=e.length-1;0<=h;h--)(i=e[h])&&(r=(s<3?i(r):3<s?i(t,n,r):i(t,n))||r);return 3<s&&r&&Object.defineProperty(t,n,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SceneItemChessmanComponent=void 0;const EntityComponent_1=require("../../../Core/Entity/EntityComponent"),RegisterComponent_1=require("../../../Core/Entity/RegisterComponent"),LevelGeneralContextDefine_1=require("../../LevelGamePlay/LevelGeneralContextDefine"),ControllerHolder_1=require("../../Manager/ControllerHolder"),SceneItemMoveComponent_1=require("./Common/Component/SceneItemMoveComponent");let SceneItemChessmanComponent=SceneItemChessmanComponent_1=class SceneItemChessmanComponent extends EntityComponent_1.EntityComponent{constructor(){super(...arguments),this.DGa=void 0,this.o4o=void 0,this.n$t=void 0,this.Lo=void 0,this.AGa=void 0,this.RGa=()=>{var e;this.AGa&&((e=this.n$t?.Owner)&&this.AGa(e),this.AGa=void 0),this.Lo?.EndMovingActions&&(e=LevelGeneralContextDefine_1.EntityContext.Create(this.Entity.Id),ControllerHolder_1.ControllerHolder.LevelGeneralController.ExecuteActionsNew(this.Lo.EndMovingActions,e))}}OnInitData(e){e=e.GetParam(SceneItemChessmanComponent_1)[0];return this.Lo=e,!0}OnStart(){return this.DGa=this.Entity.GetComponent(125),this.o4o=this.Entity.GetComponent(116),this.n$t=this.Entity.GetComponent(188),this.o4o?.AddStopMoveCallback(this.RGa),!0}OnEnd(){return this.o4o?.RemoveStopMoveCallback(this.RGa),!0}UGa(){var e;this.Lo?.StartMovingActions&&(e=LevelGeneralContextDefine_1.EntityContext.Create(this.Entity.Id),ControllerHolder_1.ControllerHolder.LevelGeneralController.ExecuteActionsNew(this.Lo.StartMovingActions,e))}OnTicTacToePieceMove(e,t,n=void 0,o=void 0,i=void 0){e=this.DGa?.PutDownBase?.GetBlockLocationByIndex(e);e&&(this.UGa(),n&&o&&i?(this.o4o?.AddMoveTarget(new SceneItemMoveComponent_1.MoveTarget(n,.25)),this.o4o?.AddMoveTarget(new SceneItemMoveComponent_1.MoveTarget(o,.25)),this.o4o?.AddMoveTarget(new SceneItemMoveComponent_1.MoveTarget(i,.25)),this.o4o?.AddMoveTarget(new SceneItemMoveComponent_1.MoveTarget(e,.25))):this.o4o?.AddMoveTarget(new SceneItemMoveComponent_1.MoveTarget(e,1)),this.AGa=t)}SetTicTacToePieceLocation(e,t){var e=this.DGa?.PutDownBase?.GetBlockLocationByIndex(e);e&&(this.o4o?.StopMove(),this.o4o?.AddStopMoveCallback(this.RGa),this.n$t?.SetActorLocation(e.ToUeVector()),e=this.n$t?.Owner)&&t&&t(e)}};SceneItemChessmanComponent=SceneItemChessmanComponent_1=__decorate([(0,RegisterComponent_1.RegisterComponent)(229)],SceneItemChessmanComponent),exports.SceneItemChessmanComponent=SceneItemChessmanComponent;
//# sourceMappingURL=SceneItemChessmanComponent.js.map