
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UiBehaviourUiBlur=void 0;const UE=require("ue"),GlobalData_1=require("../../../GlobalData"),ConfigManager_1=require("../../../Manager/ConfigManager"),UiLayerType_1=require("../../Define/UiLayerType"),UiManager_1=require("../../UiManager"),UiBlurLogic_1=require("./UiBlurLogic");class UiBehaviourUiBlur{constructor(){this.A_r=void 0,this.CurrentView=void 0,this.fXn=!1}OnAfterUiStart(){0!=(this.A_r&UiLayerType_1.UIBLUR_TYPE)&&(this.fXn=!0,this.nnc(this.CurrentView.GetViewId()),this.snc(this.CurrentView.GetViewId()))&&(UiBlurLogic_1.UiBlurLogic.SetNormalUiRenderAfterBlur(this.CurrentView),this.kah())}OnAfterUiShow(){this.fXn&&this.snc(this.CurrentView.GetViewId())&&UiBlurLogic_1.UiBlurLogic.SetNormalUiRenderAfterBlur(this.CurrentView)}nnc(i){UiBehaviourUiBlur.anc.push(i),UiBehaviourUiBlur.anc.sort((i,e)=>i-e)}hnc(i){i=UiBehaviourUiBlur.anc.indexOf(i);0<=i&&UiBehaviourUiBlur.anc.splice(i,1)}snc(i){return UiBehaviourUiBlur.anc[UiBehaviourUiBlur.anc.length-1]===i}kah(){var i;this.fXn&&(i=UiBehaviourUiBlur.anc[UiBehaviourUiBlur.anc.length-1])&&(i=UiManager_1.UiManager.GetView(i))&&(ConfigManager_1.ConfigManager.UiViewConfig.GetUiShowConfig(i.Info.Name).PartialBlur?UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.kuro.LGUIBlurTexture.save 1"):UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.kuro.LGUIBlurTexture.save 0"))}ChangeNeedBlurState(i){this.fXn=i}SetCurrentLayer(i){this.A_r=i}SetViewInfo(i){this.CurrentView=i}OnBeforeDestroy(){this.fXn&&(this.snc(this.CurrentView.GetViewId())?(this.hnc(this.CurrentView.GetViewId()),this.kah(),UiBlurLogic_1.UiBlurLogic.ResumeTopUiRenderAfterBlur()):this.hnc(this.CurrentView.GetViewId()))}}(exports.UiBehaviourUiBlur=UiBehaviourUiBlur).anc=[];
//# sourceMappingURL=UiBehaviorUiBlur.js.map