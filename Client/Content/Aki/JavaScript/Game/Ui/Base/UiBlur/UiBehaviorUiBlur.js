
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UiBehaviourUiBlur=void 0;const UE=require("ue"),GlobalData_1=require("../../../GlobalData"),ConfigManager_1=require("../../../Manager/ConfigManager"),UiLayerType_1=require("../../Define/UiLayerType"),UiManager_1=require("../../UiManager"),UiBlurLogic_1=require("./UiBlurLogic");class UiBehaviourUiBlur{constructor(){this.A_r=void 0,this.CurrentView=void 0,this.fXn=!1}OnAfterUiStart(){0!=(this.A_r&UiLayerType_1.UIBLUR_TYPE)&&(this.fXn=!0,this.nQ_(this.CurrentView.GetViewId()),this.sQ_(this.CurrentView.GetViewId()))&&(UiBlurLogic_1.UiBlurLogic.SetNormalUiRenderAfterBlur(this.CurrentView),this.kah())}OnAfterUiShow(){this.fXn&&this.sQ_(this.CurrentView.GetViewId())&&UiBlurLogic_1.UiBlurLogic.SetNormalUiRenderAfterBlur(this.CurrentView)}nQ_(i){UiBehaviourUiBlur.aQ_.push(i),UiBehaviourUiBlur.aQ_.sort((i,e)=>i-e)}hQ_(i){i=UiBehaviourUiBlur.aQ_.indexOf(i);0<=i&&UiBehaviourUiBlur.aQ_.splice(i,1)}sQ_(i){return UiBehaviourUiBlur.aQ_[UiBehaviourUiBlur.aQ_.length-1]===i}kah(){var i;this.fXn&&(i=UiBehaviourUiBlur.aQ_[UiBehaviourUiBlur.aQ_.length-1])&&(i=UiManager_1.UiManager.GetView(i))&&(ConfigManager_1.ConfigManager.UiViewConfig.GetUiShowConfig(i.Info.Name).PartialBlur?UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.kuro.LGUIBlurTexture.save 1"):UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.kuro.LGUIBlurTexture.save 0"))}ChangeNeedBlurState(i){this.fXn=i}SetCurrentLayer(i){this.A_r=i}SetViewInfo(i){this.CurrentView=i}OnBeforeDestroy(){this.fXn&&(this.sQ_(this.CurrentView.GetViewId())?(this.hQ_(this.CurrentView.GetViewId()),this.kah(),this.A_r===UiLayerType_1.ELayerType.Pop&&UiBlurLogic_1.UiBlurLogic.ResumeTopUiRenderAfterBlur()):this.hQ_(this.CurrentView.GetViewId()))}}(exports.UiBehaviourUiBlur=UiBehaviourUiBlur).aQ_=[];
//# sourceMappingURL=UiBehaviorUiBlur.js.map