
"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameSettingsController=void 0;const UE=require("ue"),Info_1=require("../../Core/Common/Info"),Log_1=require("../../Core/Common/Log"),ControllerBase_1=require("../../Core/Framework/ControllerBase"),Macro_1=require("../../Core/Preprocessor/Macro"),TimerSystem_1=require("../../Core/Timer/TimerSystem"),LauncherGameSettingLib_1=require("../../Launcher/Util/LauncherGameSettingLib"),EventDefine_1=require("../Common/Event/EventDefine"),EventSystem_1=require("../Common/Event/EventSystem"),LocalStorage_1=require("../Common/LocalStorage"),LocalStorageDefine_1=require("../Common/LocalStorageDefine"),GlobalData_1=require("../GlobalData"),ConfigManager_1=require("../Manager/ConfigManager"),ModelManager_1=require("../Manager/ModelManager"),MenuTool_1=require("../Module/Menu/MenuTool"),GameSettingsDeviceRender_1=require("./GameSettingsDeviceRender"),GameSettingsDeviceRenderDefine_1=require("./GameSettingsDeviceRenderDefine"),GameSettingsLevelRender_1=require("./GameSettingsLevelRender"),GameSettingsManager_1=require("./GameSettingsManager"),GameSettingsUtils_1=require("./GameSettingsUtils");class GameSettingsController extends ControllerBase_1.ControllerBase{static OnInit(){return Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",40,"GameSettingsController-OnInit"),this.Ore(),!0}static OnClear(){return this.kre(),!0}static Ore(){EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnStartLoadingState,this.hMe),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.WorldDone,this._Me),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.ClearWorld,this.uMe),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnSubLevelAdded,this.XGa),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.InputControllerMainTypeChange,this.xrl)}static kre(){EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnStartLoadingState,this.hMe),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.WorldDone,this._Me),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.ClearWorld,this.uMe),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnSubLevelAdded,this.XGa),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.InputControllerMainTypeChange,this.xrl)}static kot(){this.IRe=TimerSystem_1.TimerSystem.Delay(this.q7e,GameSettingsDeviceRenderDefine_1.WHOLE_SHADOW_CACHE_DELAY_TIME)}static xHe(){this.IRe&&(TimerSystem_1.TimerSystem.Has(this.IRe)&&TimerSystem_1.TimerSystem.Remove(this.IRe),this.IRe=void 0)}static SNa(){if(LocalStorage_1.LocalStorage.GetGlobal(LocalStorageDefine_1.ELocalStorageGlobalKey.HasLocalGameSettings,!1)){Log_1.Log.CheckInfo()&&Log_1.Log.Info("GameSettings",64,"本地有游戏设置保存，还原本地游戏设置");var e=GameSettingsManager_1.GameSettingsManager.GetCurrentValue(10);if(!GameSettingsUtils_1.GameSettingsUtils.PreApplyImageQuality(e))return;for(const t of GameSettingsManager_1.GameSettingsManager.GetGameSettingsHandleMap().values())t.Load()&&(t.IsSkipInitializeApply?Log_1.Log.CheckInfo()&&Log_1.Log.Info("GameSettings",64,"初始化应用游戏设置 - 跳过此设置应用",["GameSettingId",t.GetGameSettingId()]):t.InitializeApply())}else{Log_1.Log.CheckInfo()&&Log_1.Log.Info("GameSettings",64,"首次启动游戏，应用默认游戏设置"),this.coh=LocalStorage_1.LocalStorage.GetGlobal(LocalStorageDefine_1.ELocalStorageGlobalKey.GameQualitySetting);var a,e=LauncherGameSettingLib_1.LauncherGameSettingLib.LoadPlayMenuInfo();this.moh=new Map,void 0!==this.coh&&this.coh.KeyQualityLevel<=3&&(Log_1.Log.CheckInfo()&&Log_1.Log.Info("GameSettings",63,"[设置系统]->存在老数据，进行兼容设置"),GameSettingsUtils_1.GameSettingsUtils.PreApplyImageQuality(this.coh.KeyQualityLevel),a=LocalStorage_1.LocalStorage.GetGlobal(LocalStorageDefine_1.ELocalStorageGlobalKey.CameraShakeStrength),this.moh.set(68,this.coh.KeySuperResolution),this.moh.set(5,this.coh.KeyPcWindowMode),this.moh.set(7,this.coh.KeyBrightness),this.moh.set(87,this.coh.KeyFsrEnable),this.moh.set(125,this.coh.KeyXessEnable??1),this.moh.set(126,this.coh.KeyXessQuality??2),this.moh.set(127,this.coh.KeyMetalFxEnable),this.moh.set(128,this.coh.KeyIrxEnable??1),this.moh.set(89,this.coh.HorizontalViewSensitivity),this.moh.set(90,this.coh.VerticalViewSensitivity),this.moh.set(91,this.coh.AimHorizontalViewSensitivity),this.moh.set(92,this.coh.AimVerticalViewSensitivity),this.moh.set(93,a),this.moh.set(94,this.coh.MobileHorizontalViewSensitivity),this.moh.set(95,this.coh.MobileVerticalViewSensitivity),this.moh.set(96,this.coh.MobileAimHorizontalViewSensitivity),this.moh.set(97,this.coh.MobileAimVerticalViewSensitivity),this.moh.set(99,this.coh.CommonSpringArmLength),this.moh.set(100,this.coh.FightSpringArmLength),this.moh.set(101,this.coh.IsResetFocusEnable),this.moh.set(102,this.coh.IsSidestepCameraEnable),this.moh.set(103,this.coh.IsSoftLockCameraEnable),this.moh.set(104,this.coh.JoystickShakeStrength),this.moh.set(105,this.coh.JoystickShakeType),this.moh.set(108,this.coh.JoystickMode),this.moh.set(109,this.coh.IsAutoSwitchSkillButtonMode),this.moh.set(122,this.coh.AimAssistEnable),this.moh.set(130,this.coh.HorizontalViewRevert),this.moh.set(131,this.coh.VerticalViewRevert),this.moh.set(106,this.coh.WalkOrRunRate)),void 0!==e&&(this.moh.set(1,e?.get(1)),this.moh.set(2,e?.get(2)),this.moh.set(3,e?.get(3)),this.moh.set(4,e?.get(4)),this.moh.set(69,e?.get(69)),this.moh.set(70,e?.get(70))),this.ENa(),this.yNa(),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(129,1),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(134,1)}LocalStorage_1.LocalStorage.SetGlobal(LocalStorageDefine_1.ELocalStorageGlobalKey.HasLocalGameSettings,!0)}static ENa(){Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"InitializeApply[ImageQuality]");var e=this.coh?.KeyQualityLevel??GameSettingsDeviceRender_1.GameSettingsDeviceRender.GameQualitySettingLevel,a=GameSettingsDeviceRender_1.GameSettingsDeviceRender.GetDeviceReaderFeatureData(e);if(a){var t=GameSettingsManager_1.GameSettingsManager.Get(10);if(t){if(t.Set(e,!0),!GameSettingsUtils_1.GameSettingsUtils.PreApplyImageQuality(e))return;t.IsInitializeApplied=!0,t.RefreshCurrentValue(),t.Save()}var t=Info_1.Info.IsPcOrGamepadPlatform(),i=GameSettingsManager_1.GameSettingsManager.Get(11)?.HasLocalStorageValue?GameSettingsDeviceRender_1.GameSettingsDeviceRender.GetFrameIndexByList(GameSettingsManager_1.GameSettingsManager.GetCurrentValue(11)):GameSettingsDeviceRender_1.GameSettingsDeviceRender.GetFrameIndexByList(a.FPS),r=(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"[FPSDebug]InitializeApplyImageQuality",["fpsIndex",i],["feature FPS",a.FPS]),GameSettingsManager_1.GameSettingsManager.Get(54)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(54):this.coh?.KeyNewShadowQuality??a.ShadowQuality),n=GameSettingsManager_1.GameSettingsManager.Get(55)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(55):this.coh?.KeyNiagaraQuality??a.FxQuality,s=GameSettingsManager_1.GameSettingsManager.Get(56)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(56):this.coh?.KeyImageDetail??a.ImageDetail,_=GameSettingsManager_1.GameSettingsManager.Get(57)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(57):this.coh?.KeyAntiAliasing??a.AntiAliasing,l=GameSettingsManager_1.GameSettingsManager.Get(58)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(58):this.coh?.KeySceneAo??a.AO,o=GameSettingsManager_1.GameSettingsManager.Get(63)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(63):this.coh?.KeyVolumeFog??a.VolumeFog,g=GameSettingsManager_1.GameSettingsManager.Get(64)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(64):this.coh?.KeyVolumeLight??a.VolumeLight,G=GameSettingsManager_1.GameSettingsManager.Get(65)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(65):this.coh?.KeyMotionBlur,S=void 0===G?a.MotionBlur:0===G?0:2,G=(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"[FPSDebug]InitializeApplyImageQuality",["oldMotionBlurValue",G],["cfgMotionBlurValue",a.MotionBlur],["motionBlur",S],["currentMotionBlur",GameSettingsManager_1.GameSettingsManager.GetCurrentValue(65)],["NewmotionBlur",LocalStorage_1.LocalStorage.GetGlobal(LocalStorageDefine_1.ELocalStorageGlobalKey.MotionBlur)]),GameSettingsManager_1.GameSettingsManager.Get(66)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(66):this.coh?.KeyPcVsync??a.VSync),m=GameSettingsManager_1.GameSettingsManager.Get(67)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(67):this.coh?.KeyMobileResolution??a.ScreenPercentage,d=GameSettingsManager_1.GameSettingsManager.Get(132)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(132):this.coh?.KeyBloomEnable??a.Bloom,a=GameSettingsManager_1.GameSettingsManager.Get(79)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(79):this.coh?.KeyNpcDensity??a.NpcDensity;GameSettingsManager_1.GameSettingsManager.InitSetApplySave(11,i),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(54,r),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(55,n),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(56,s),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(57,_),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(58,l),GameSettingsUtils_1.GameSettingsUtils.ApplySceneLightQuality(e),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(63,o),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(64,g),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(65,S),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(67,m),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(132,d),GameSettingsManager_1.GameSettingsManager.InitSetApplySave(79,a),t&&GameSettingsManager_1.GameSettingsManager.InitSetApplySave(66,G)}}static yNa(){Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"InitializeApply[MenuConfig]");var e=ConfigManager_1.ConfigManager.MenuBaseConfig.GetMenuBaseConfig();if(e)for(const t of e)if(MenuTool_1.MenuTool.CheckPlatform(t.Platform)){var a=t.FunctionId;if(10===a||137===a)Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"相关的已经在前面设置过了，不要在[InitializeApplyMenuConfig]再设置了",["gameSettingsId",a]);else{let e=0;switch(t.SetType){case 1:e=t.SliderDefault;break;case 2:case 4:e=t.OptionsDefault;break;default:e=0}Log_1.Log.CheckDebug()&&Log_1.Log.Debug("GameSettings",64,"最后一部的初始化设值",["gameSettingsId",a],["HasLocalStorageValue",GameSettingsManager_1.GameSettingsManager.Get(a)?.HasLocalStorageValue],["GetCurrentValue",GameSettingsManager_1.GameSettingsManager.GetCurrentValue(a)],["OldDataMigrationDataMap",this.moh?.get(a)],["defaultValue",e]),e=GameSettingsManager_1.GameSettingsManager.Get(a)?.HasLocalStorageValue?GameSettingsManager_1.GameSettingsManager.GetCurrentValue(a):this.moh?.get(a)??e,GameSettingsManager_1.GameSettingsManager.InitSetApplySave(a,e)}}}}exports.GameSettingsController=GameSettingsController,(_a=GameSettingsController).IRe=void 0,GameSettingsController.coh=void 0,GameSettingsController.moh=void 0,GameSettingsController.hMe=()=>{var e;GameSettingsManager_1.GameSettingsManager.IsGameSettingsAppliedOnOpenLoading?Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",64,"游戏设置已经初始化应用过"):(Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",40,"初始化-应用设置参数1111"),Info_1.Info.IsPcPlatform()&&(e=GameSettingsDeviceRender_1.GameSettingsDeviceRender.DeviceType,Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",40,"重新设置PC性能分级",["deviceType",e]),11===e?(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.ViewDistanceQuality 0"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.AntiAliasingQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.PostProcessQuality 0"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.TextureQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.EffectsQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.FoliageQuality 0"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.LandscapeReverseLODScaleFactor 2")):12===e?(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.ViewDistanceQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.AntiAliasingQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.PostProcessQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.TextureQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.EffectsQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.FoliageQuality 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.LandscapeReverseLODScaleFactor 1")):13===e?(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.ViewDistanceQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.AntiAliasingQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.PostProcessQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.TextureQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.EffectsQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.FoliageQuality 2"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.CapsuleKuroAO 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.LandscapeReverseLODScaleFactor 0")):14===e&&(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.ViewDistanceQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.AntiAliasingQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.PostProcessQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.TextureQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.EffectsQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"sg.FoliageQuality 3"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.CapsuleKuroAO 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.LandscapeReverseLODScaleFactor 0"))),_a.SNa(),Info_1.Info.IsPlayInEditor&&UE.KuroEditorUtilityLibrary.GetGConfigEditorSettings("/Script/KuroEditorUtility.KuroEditorUtilitySetting","TopSpeedForLoading")&&(e="wp.Runtime.OverrideMultipleRuntimeGridNames Grid_Near&Grid_Middle&Grid_Middle_Far&Grid_Far&Grid_SuperFar&Grid_SSuperFar&Grid_HLOD_Small&Grid_HLOD_Middle&Grid_HLOD&Grid_HLOD_Volume_Small&Grid_HLOD_Volume_Middle&Grid_HLOD_Volume&Grid_Water&Grid_Impostor&Grid_ISM_Near&Grid_ISM_Middle&Grid_ISM_Far&Grid_ISM_SuperFar&Grid_Foliage_Near&Grid_Foliage_Grass&Grid_Foliage_Middle&Grid_Foliage_Far&Grid_ReverseFar&Grid_SSuperFarReverse&Grid_EnclosedSpaceNear&Grid_EnclosedSpaceMiddle&Grid_EnclosedSpaceFar&Grid_EnclosedSpaceSuperFar&Grid_EnclosedSpaceSSuperFar",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"wp.Runtime.OverrideMultipleRuntimeGridNames Grid_Near&Grid_Middle&Grid_Middle_Far&Grid_Far&Grid_SuperFar&Grid_SSuperFar&Grid_HLOD_Small&Grid_HLOD_Middle&Grid_HLOD&Grid_HLOD_Volume_Small&Grid_HLOD_Volume_Middle&Grid_HLOD_Volume&Grid_Water&Grid_Impostor&Grid_ISM_Near&Grid_ISM_Middle&Grid_ISM_Far&Grid_ISM_SuperFar&Grid_Foliage_Near&Grid_Foliage_Grass&Grid_Foliage_Middle&Grid_Foliage_Far&Grid_ReverseFar&Grid_SSuperFarReverse&Grid_EnclosedSpaceNear&Grid_EnclosedSpaceMiddle&Grid_EnclosedSpaceFar&Grid_EnclosedSpaceSuperFar&Grid_EnclosedSpaceSSuperFar"),e="wp.Runtime.OverrideMultipleRuntimeGridLoadingRangeValues 50&80&180&100&450&1800&150&200&300&150&200&300&480&250&50&80&100&150&40&80&100&100&300&1800&50&80&100&450&600",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,e),e="r.Kuro.SkeletalMesh.LODDistanceScale 1.0",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,e),e="r.Kuro.Foliage.GrassCullDistanceMax 3000",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,e),e="r.Kuro.MaterialDesktopQualityShoulderRender 0",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,e),e="r.Kuro.GlobalPointCloudStreamEnabled 0",UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,e),Log_1.Log.CheckInfo())&&Log_1.Log.Info("World",41,"Editor: TopSpeedMode is on."),GameSettingsManager_1.GameSettingsManager.ConvertLocalMenuData(),GameSettingsUtils_1.GameSettingsUtils.CheckLocalCustomImageQuality(),GameSettingsManager_1.GameSettingsManager.ConvertViewSensitivity(),GameSettingsDeviceRender_1.GameSettingsDeviceRender.CancelAllPerformanceLimit(),GameSettingsManager_1.GameSettingsManager.IsGameSettingsAppliedOnOpenLoading=!0)},GameSettingsController._Me=()=>{ModelManager_1.ModelManager.GameModeModel.UseWorldPartition?(Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",59,"进入大世界-调整渲染参数"),Info_1.Info.IsPcOrGamepadPlatform()||(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Mobile.EnableKuroSpotlightsShadow 0"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.FogVisibilityCulling.Enable 1")),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Shadow.CacheWholeSceneShadows 1"),_a.xHe()):(Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",59,"进入副本-调整渲染参数"),Info_1.Info.IsPcOrGamepadPlatform()||(UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Mobile.EnableKuroSpotlightsShadow 1"),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.FogVisibilityCulling.Enable 0")),GameSettingsLevelRender_1.GameSettingsLevelRender.Get().SetLevelRenderSettings(),UE.LandscapeProxy.SetKuroLandscapeFOVFactor(0),_a.xHe(),_a.kot());var e=GameSettingsManager_1.GameSettingsManager.Get(58);e&&e.Apply()},GameSettingsController.uMe=()=>{ModelManager_1.ModelManager.GameModeModel.UseWorldPartition||(Log_1.Log.CheckInfo()&&Log_1.Log.Info("Render",59,"退出副本-调整渲染参数"),GameSettingsLevelRender_1.GameSettingsLevelRender.Get().RevertLevelRenderSetting(),UE.LandscapeProxy.SetKuroLandscapeFOVFactor(-1),UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Shadow.CacheWholeSceneShadows 1"),_a.xHe())},GameSettingsController.XGa=()=>{UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Shadow.CacheWholeSceneShadows 0"),_a.xHe(),_a.kot()},GameSettingsController.q7e=()=>{_a.IRe=void 0,UE.KismetSystemLibrary.ExecuteConsoleCommand(GlobalData_1.GlobalData.World,"r.Shadow.CacheWholeSceneShadows 1")},GameSettingsController.xrl=(e,a)=>{2!==e&&2!==a||GameSettingsUtils_1.GameSettingsUtils.RefreshViewRevertState(a)},GameSettingsController.OnGameUserSettingsUINeedsUpdate=()=>{TimerSystem_1.TimerSystem.Next(_a.OnUEGameUserSettingsUpdate)},GameSettingsController.OnUEGameUserSettingsUpdate=()=>{var e=UE.GameUserSettings.GetGameUserSettings(),a=2===e.GetFullscreenMode()?1:0,a=(GameSettingsManager_1.GameSettingsManager.GetEditValue(5)!==a&&(GameSettingsManager_1.GameSettingsManager.Set(5,a),GameSettingsManager_1.GameSettingsManager.RefreshCurrentValue(5),GameSettingsManager_1.GameSettingsManager.Save(5)),GameSettingsManager_1.GameSettingsManager.GetEditValue(6)),e=GameSettingsDeviceRender_1.GameSettingsDeviceRender.GetResolutionIndexByList(e.GetScreenResolution());a!==e&&(GameSettingsManager_1.GameSettingsManager.Set(6,e),GameSettingsManager_1.GameSettingsManager.RefreshCurrentValue(6),GameSettingsManager_1.GameSettingsManager.Save(6))};
//# sourceMappingURL=GameSettingsController.js.map