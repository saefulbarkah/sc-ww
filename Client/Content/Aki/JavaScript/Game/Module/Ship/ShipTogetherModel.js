
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShipTogetherModel=void 0;const ModelBase_1=require("../../../Core/Framework/ModelBase"),EventDefine_1=require("../../Common/Event/EventDefine"),EventSystem_1=require("../../Common/Event/EventSystem"),ControllerHolder_1=require("../../Manager/ControllerHolder"),ModelManager_1=require("../../Manager/ModelManager");class ShipTogetherModel extends ModelBase_1.ModelBase{constructor(){super(...arguments),this.kBl=!1,this.CurrentSelectTogetherRoleId=0,this.ShipTogetherRoleId=0,this.OriginRouletteSkillId=0,this.x6l=e=>{"Gongduola"!==e.VehicleType&&"AutoMoveGongduola"!==e.VehicleType||e.IsRolePassenger(!0)&&(this.OriginRouletteSkillId=ModelManager_1.ModelManager.RouletteModel.CurrentExploreSkillId,ControllerHolder_1.ControllerHolder.RouletteController.ExploreSkillSetRequest(1009,void 0,!0))},this.w6l=e=>{"Gongduola"!==e.VehicleType&&"AutoMoveGongduola"!==e.VehicleType||e.IsRolePassenger(!0)&&ControllerHolder_1.ControllerHolder.RouletteController.ExploreSkillSetRequest(this.OriginRouletteSkillId,void 0,!0)},this.OBl=e=>{this.ShipTogetherRoleId=e,this.kbl()},this.NBl=()=>{this.ShipTogetherRoleId=0,this.Fbl()},this.FBl=()=>{this.kBl=!0},this.VBl=()=>{this.kBl=!1,this.ShipTogetherRoleId=0}}get IsShipTogether(){return this.kBl}OnInit(){return EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnChangeRideSharingPassengerResponse,this.OBl),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnRemoveRideSharingPassengerResponse,this.NBl),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnEnterVehicleRideSharing,this.FBl),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnLeaveVehicleRideSharing,this.VBl),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnEnterVehicle,this.x6l),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnLeaveVehicle,this.w6l),!0}OnClear(){return EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnChangeRideSharingPassengerResponse,this.OBl),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnRemoveRideSharingPassengerResponse,this.NBl),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnEnterVehicleRideSharing,this.FBl),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnLeaveVehicleRideSharing,this.VBl),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnEnterVehicle,this.x6l),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnLeaveVehicle,this.w6l),!0}kbl(){var e=ModelManager_1.ModelManager.VehicleModel?.RideSharingInfo?.RoleId??0,t=ModelManager_1.ModelManager.VehicleModel?.RideSharingInfo?.RoleCreatureId??0;t&&e&&ModelManager_1.ModelManager.GameAudioModel.RegisterDriveAudioEvent(e,t)}Fbl(){ModelManager_1.ModelManager.GameAudioModel.RemoveDriveAudioEvent()}}exports.ShipTogetherModel=ShipTogetherModel;
//# sourceMappingURL=ShipTogetherModel.js.map