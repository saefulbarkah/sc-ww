
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorldMapSecondaryUiLayoutA=void 0;const ConfigManager_1=require("../../../../Manager/ConfigManager"),ButtonItem_1=require("../../../Common/Button/ButtonItem"),MarkUiUtils_1=require("../../../Map/Mark/Misc/MarkUiUtils"),TeleportController_1=require("../../../Teleport/TeleportController"),WorldMapSecondaryUi_1=require("../../ViewComponent/WorldMapSecondaryUi"),WorldMapDefine_1=require("../../WorldMapDefine"),MapTipsActivateTipPanel_1=require("../Common/MapTipsActivateTipPanel");class WorldMapSecondaryUiLayoutA extends WorldMapSecondaryUi_1.WorldMapSecondaryUi{constructor(){super(...arguments),this.ConfirmButton=void 0,this.TrackBtn=void 0,this.GotoBtn=void 0,this.MapTipsActivateTipPanel=void 0,this.OnConfirmBtnClick=()=>{},this.OnTrackBtnClick=()=>{},this.OnGotoBtnClick=()=>{}}OnRegisterComponent(){this.ComponentRegisterInfos=WorldMapDefine_1.secondaryUiPanelComponentsRegisterInfoA}async OnBeforeStartAsync(){return this.MapTipsActivateTipPanel=new MapTipsActivateTipPanel_1.MapTipsActivateTipPanel,await this.MapTipsActivateTipPanel.CreateByActorAsync(this.GetItem(31).GetOwner()),super.OnBeforeStartAsync()}OnStart(){this.ConfirmButton=new ButtonItem_1.ButtonItem(this.GetButton(11).RootUIComp),this.ConfirmButton.SetActive(!0),this.ConfirmButton.SetFunction(this.OnConfirmBtnClick),this.TrackBtn=new ButtonItem_1.ButtonItem(this.GetButton(28).RootUIComp),this.TrackBtn.SetFunction(this.OnTrackBtnClick),this.GotoBtn=new ButtonItem_1.ButtonItem(this.GetButton(29).RootUIComp),this.GotoBtn.SetFunction(this.OnGotoBtnClick)}OnBeforeDestroy(){this.ConfirmButton.Destroy(),this.TrackBtn.Destroy(),this.GotoBtn.Destroy(),this.MapTipsActivateTipPanel.Destroy(),super.OnBeforeDestroy()}SetupWorldMapSecondaryUiLayout(){this.GetItem(14).SetUIActive(!0),this.GetItem(26).SetUIActive(!1),this.GetVerticalLayout(5).RootUIComp.SetUIActive(!0),this.GetItem(25).SetUIActive(!1),this.GetItem(9).SetUIActive(!1),this.GetItem(12).SetUIActive(!1),this.GetItem(8).SetUIActive(!1),this.GetVerticalLayout(16).RootUIComp.SetUIActive(!1),this.GetSprite(24).SetUIActive(!1),this.MapTipsActivateTipPanel.SetUiActive(!1)}UpdateAreaTxt(t){t&&this.GetText(3).SetText(t)}UpdateQuickGotoActive(t,i){var e;this.GetItem(32).SetUIActive(t),t&&(t=this.GetButton(29),e=TeleportController_1.TeleportController.CheckCanTeleport(),i=MarkUiUtils_1.MarkUiUtils.FindNearbyValidGotoMark(this.Map,i),this.MapTipsActivateTipPanel.SetUiActive(!e||void 0===i),t.SetSelfInteractive(e&&void 0!==i))}UpdateMarkItemRelativeLayout(t){this.UpdateMultiMap(t),this.UpdateTopRightIconActive(t)}UpdateMultiMap(t){var t=t.ShowSecondaryUiMultiMapIcon();this.GetSprite(23).SetUIActive(t),t&&(t=ConfigManager_1.ConfigManager.UiResourceConfig.GetResourcePath(WorldMapDefine_1.MULTI_MAP_SELECT_ICON_PATH),this.SetSpriteByPath(t,this.GetSprite(23),!1))}UpdateTopRightIconActive(t){var i=t.MarkItemEntity.ViewLifeCircle.IsChildViewVisible(0),t=t.MarkItemEntity.Resource.TopRightIconPath;this.UpdateTopRightIcon(i,t)}UpdateTopRightIcon(t,i){this.GetSprite(24).SetUIActive(t),t&&this.SetSpriteByPath(i,this.GetSprite(24),!1)}}exports.WorldMapSecondaryUiLayoutA=WorldMapSecondaryUiLayoutA;
//# sourceMappingURL=WorldMapSecondaryUiLayoutA.js.map