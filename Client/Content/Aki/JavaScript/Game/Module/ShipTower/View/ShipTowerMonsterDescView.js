
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ShipTowerMonsterDescView=void 0;const UE=require("ue"),Log_1=require("../../../../Core/Common/Log"),UiViewBase_1=require("../../../Ui/Base/UiViewBase"),TabComponent_1=require("../../Common/TabComponent/TabComponent"),LguiUtil_1=require("../../Util/LguiUtil"),ShipTowerMonsterListItem_1=require("./ShipTowerMonsterListItem"),ShipTowerMonsterWordItem_1=require("./ShipTowerMonsterWordItem"),ShipTowerTeamTabItem_1=require("./ShipTowerTeamTabItem");class ShipTowerMonsterDescView extends UiViewBase_1.UiViewBase{constructor(){super(...arguments),this.OpenParam=void 0,this.Ivt=void 0,this.I6e=0,this.CD_=void 0,this.pD_=void 0,this.vD_=void 0,this.yD_=void 0,this.SD_=void 0,this.fqe=()=>{return new ShipTowerTeamTabItem_1.ShipTowerTeamTabItem},this.KOl=i=>{this.I6e=i;i=this.OpenParam?.StageData.TeamDataList[this.I6e];i&&this.MD_(i)}}OnRegisterComponent(){this.ComponentRegisterInfos=[[0,UE.UIItem],[1,UE.UIItem],[2,UE.UIItem],[3,UE.UIItem]]}Ss_(){Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Temp",69,"",["DataParam",this.OpenParam])}async OnBeforeStartAsync(){this.Ss_(),await super.OnBeforeStartAsync(),this.Ivt=new TabComponent_1.TabComponent(this.GetItem(3),this.fqe,this.KOl,void 0),this.yD_=this.GetItem(1),this.SD_=this.GetItem(2);var i=this.GetItem(0),t=LguiUtil_1.LguiUtil.CopyItem(this.yD_,i),t=(this.pD_=new ShipTowerMonsterWordItem_1.ShipTowerMonsterWordItem,await this.pD_.Init(t),LguiUtil_1.LguiUtil.CopyItem(this.yD_,i)),t=(this.CD_=new ShipTowerMonsterWordItem_1.ShipTowerMonsterWordItem,await this.CD_.Init(t),LguiUtil_1.LguiUtil.CopyItem(this.SD_,i)),i=(this.vD_=new ShipTowerMonsterListItem_1.ShipTowerMonsterListItem,await this.vD_.Init(t),this.yD_.SetUIActive(!1),this.SD_.SetUIActive(!1),this.OpenParam?.StageData.TeamDataList.length??2);await this.Ivt.RefreshTabItemByLengthAsync(i)}Ta_(){var i=this.Ivt.GetTabItemMap(),t=this.OpenParam?.StageData.TeamDataList??[];for(const[e,s]of i)s.UpdateName(t[e].AreaName);i=t.findIndex(i=>i.InstId===this.OpenParam?.InstId);const e=Math.max(i,0);this.Ivt.SelectToggleByIndex(e,!0)}OnBeforeShow(){this.Ta_()}MD_(i){this.CD_?.UpdateData(i.GetInfoAttr());var t=i.GetInfoWord();t&&this.pD_?.UpdateData(t),this.pD_?.SetActive(!!t),this.vD_?.UpdateData(i.GetMonsterListItemData())}}exports.ShipTowerMonsterDescView=ShipTowerMonsterDescView;
//# sourceMappingURL=ShipTowerMonsterDescView.js.map