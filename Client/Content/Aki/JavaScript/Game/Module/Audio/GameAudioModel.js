
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GameAudioModel=exports.CHECK_TIME_OUT_COOLDOWN_RECORD=void 0;const AudioSystem_1=require("../../../Core/Audio/AudioSystem"),Log_1=require("../../../Core/Common/Log"),Time_1=require("../../../Core/Common/Time"),GongduolaPassengerVoiceConfigByRoleIdAndTriggerType_1=require("../../../Core/Define/ConfigQuery/GongduolaPassengerVoiceConfigByRoleIdAndTriggerType"),EntitySystem_1=require("../../../Core/Entity/EntitySystem"),ModelBase_1=require("../../../Core/Framework/ModelBase"),MathUtils_1=require("../../../Core/Utils/MathUtils"),IAction_1=require("../../../UniverseEditor/Interface/IAction"),EventDefine_1=require("../../Common/Event/EventDefine"),EventSystem_1=require("../../Common/Event/EventSystem"),Global_1=require("../../Global"),ControllerHolder_1=require("../../Manager/ControllerHolder"),ModelManager_1=require("../../Manager/ModelManager"),VehicleModel_1=require("../../NewWorld/Vehicle/Model/VehicleModel"),PreloadConfigStatementPart1_1=require("../../Preload/PreloadConfigStatementPart1"),FlowController_1=require("../Plot/Flow/FlowController");exports.CHECK_TIME_OUT_COOLDOWN_RECORD=1e4;class EntityCooldownProbability{constructor(){this.EntityId=0,this.TagComp=void 0,this.AudioEventCooldownTimeMap=void 0}Init(e){this.EntityId=e,this.AudioEventCooldownTimeMap=new Map,this.TagComp=EntitySystem_1.EntitySystem.GetComponent(e,200)}Clear(){this.TagComp=void 0,this.AudioEventCooldownTimeMap?.clear(),this.AudioEventCooldownTimeMap=void 0}CheckTimeOutCooldownRecords(){this.AudioEventCooldownTimeMap||(this.AudioEventCooldownTimeMap=new Map);var e=[];for(const i of this.AudioEventCooldownTimeMap)Time_1.Time.Now-i[1].Time<Math.max(i[1].Cooldown,exports.CHECK_TIME_OUT_COOLDOWN_RECORD)?this.TagComp||(this.TagComp=EntitySystem_1.EntitySystem.GetComponent(this.EntityId,200)):(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 记录的AudioEvent冷却时间一定时间未使用过，删除该条记录",["EntityId",this.EntityId],["AudioEvent",i[0]],["IntervalTime",Time_1.Time.Now-i[1].Time]),e.push(i[0]));for(const o of e)this.AudioEventCooldownTimeMap.delete(o);return 0===this.AudioEventCooldownTimeMap.size}CheckPlayAudio(i,o){if(o.TagProbability&&this.TagComp&&0<o.TagProbability.Num())for(let e=0;e<o.TagProbability.Num();e++){var t,r=o.TagProbability.Get(e);if(this.TagComp.HasTag(r.GameplayTag.TagId))return(t=this.h_l(i,r.Probability,r.CooldownTime))&&Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 通过了配置的概率和CD检查，正常播放AudioEvent",["EntityId",this.EntityId],["AudioEvent",i],["Tag",r.GameplayTag.TagName],["Probability",r.Probability],["CooldownTime",r.CooldownTime]),t}var e=this.h_l(i,o.DefaultProbability,o.DefaultCooldownTime);return e&&Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 通过了默认概率和CD检查，正常播放AudioEvent",["EntityId",this.EntityId],["AudioEvent",i],["Probability",o.DefaultProbability],["CooldownTime",o.DefaultCooldownTime]),e}h_l(e,i,o){if(this.__l(i)){this.AudioEventCooldownTimeMap||(this.AudioEventCooldownTimeMap=new Map);var t=this.AudioEventCooldownTimeMap.has(e)?Time_1.Time.Now-this.AudioEventCooldownTimeMap.get(e).Time:-1;if(t<0||o<t)return 0!==o&&(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 通过概率和CD检查，更新Map",["EntityId",this.EntityId],["AudioEvent",e],["距离上一次播放",t]),this.AudioEventCooldownTimeMap.set(e,{Time:Time_1.Time.Now,Cooldown:o})),!0;Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 播放Audio不满足CD检查",["EntityId",this.EntityId],["AudioEvent",e],["CooldownTime",o],["距离上一次播放",t])}else Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 播放Audio不满足概率检查",["EntityId",this.EntityId],["AudioEvent",e],["Probability",i]);return!1}__l(e){return 1===e||0===e?1===e:Math.random()<e}}class GameAudioModel extends ModelBase_1.ModelBase{constructor(){super(...arguments),this.o6l=0,this.n6l=0,this.u_l=new Map,this.cGl=0,this.mGl=0,this.G2l=0,this.zbl=0,this.Jbl=0,this.Zbl=!1,this.s6l=0,this.a6l=0,this.h6l=0,this.l6l=0,this._6l=void 0,this.Cjo=e=>{e.FlowIncId===this._6l?.PlotHandle?.Handle&&(this._6l.PlotHandle=void 0,Log_1.Log.CheckDebug())&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉与角色共乘剧情播放结束")},this.c6l=!1,this.J6_=0,this.Z6_=0,this.e5_=0,this.t5_=0,this._9_=!1,this.i5_=void 0,this.r5_=!1}OnInit(){return this.o6l=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaRideSharingAudioCoolDown")??0,this.n6l=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaRideSharingPlotCoolDown")??0,!0}CheckTimeOutCooldownRecords(){var e=[];for(const i of this.u_l)i[1].CheckTimeOutCooldownRecords()&&(i[1].Clear(),e.push(i[0]));for(const o of e)Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[EntityCooldownProbability] 记录的实体上所有AudioEvent都一定时间未使用过，删除该条记录",["EntityId",o]),this.u_l.delete(o)}CheckAudioProbabilityInfo(e,i,o){if(!o||0===o.DefaultCooldownTime&&1===o.DefaultProbability&&(!o.TagProbability||0===o.TagProbability.Num()))return!0;if(0===o.DefaultProbability&&(!o.TagProbability||0===o.TagProbability.Num()))return!1;if(!this.u_l.has(e)){const r=new EntityCooldownProbability;r.Init(e);var t=r.CheckPlayAudio(i,o);return t&&this.u_l.set(e,r),t}const r=this.u_l.get(e);return r.CheckPlayAudio(i,o)}AddAllGondolaMusic(e){this.cGl=ModelManager_1.ModelManager.GameAudioModel.AddGondolaKeepDriveMusic(),this.mGl=ModelManager_1.ModelManager.GameAudioModel.AddGondolaStopDriveMusic(),this.G2l=ModelManager_1.ModelManager.GameAudioModel.AddGondolaSlowToFastSound(e)}StopAllGondolaMusic(){this.w2l(),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.cGl),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.mGl),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.G2l)}AddGondolaKeepDriveMusic(){const e=PreloadConfigStatementPart1_1.configCommonParamById.GetStringConfig("GondolaKeepDriveAudio");var i=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaKeepDriveSpeed"),o=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaKeepDriveDuration"),i=new VehicleModel_1.KeepDrivingDurationAtSpeed([i,MathUtils_1.MathUtils.MaxFloat],o,()=>!this.Zbl,()=>{this.Zbl||(this.Zbl=!0,0!==this.Jbl&&(AudioSystem_1.AudioSystem.ExecuteAction(this.Jbl,0),this.Jbl=0),this.zbl=AudioSystem_1.AudioSystem.PostEvent(e),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] PostEvent 播放船歌",["Name",e]))});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(i)??0}AddGondolaStopDriveMusic(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaStopDriveSpeed"),i=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaStopDriveDuration"),e=new VehicleModel_1.KeepDrivingDurationAtSpeed([0,e],i,()=>this.Zbl,()=>{this.Zbl&&this.w2l()});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}w2l(){this.Zbl=!1;var e=PreloadConfigStatementPart1_1.configCommonParamById.GetStringConfig("GondolaStopDriveAudio");0!==this.zbl&&(AudioSystem_1.AudioSystem.ExecuteAction(this.zbl,0,{TransitionDuration:3500}),this.zbl=0),this.Jbl=AudioSystem_1.AudioSystem.PostEvent(e),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] PostEvent 停止船歌",["Name",e])}AddGondolaSlowToFastSound(i){const o=PreloadConfigStatementPart1_1.configCommonParamById.GetStringConfig("GondolaSlowToFastSoundEvent");var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaSoundSpeedDivide"),t=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaSlowToFastSoundCoolDown"),e=new VehicleModel_1.PlayDrivingSoundOnReachSpeed([e,MathUtils_1.MathUtils.MaxFloat],t,void 0,()=>{var e=i?.GetComponent(1);e?(AudioSystem_1.AudioSystem.PostEvent(o,e.Owner),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] PostEvent 从慢速到快速播放音效",["Name",o],["Owner",e.Owner?.GetName()])):Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉从慢速到快速播放音效失败,没有Actor",["Entity",i?.Id])});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}GondolaGetOnAudioEvent(e){var i=PreloadConfigStatementPart1_1.configCommonParamById.GetStringConfig("GondolaGetOnAudioEvent"),o=e?.GetComponent(1);o?(AudioSystem_1.AudioSystem.PostEvent(i,o.Owner),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] PostEvent 贡多拉上下船播放音效",["Name",i],["Owner",o.Owner?.GetName()])):Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉从慢速到快速播放音效失败,没有Actor",["Entity",e?.Id])}RegisterDriveAudioEvent(e,i){this._6l={RoleId:e,RoleCreatureId:i,PassengerId:0,PassengerActor:void 0},EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.PlotNetworkEnd,this.Cjo),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 触发与角色共乘",["roleId",this._6l.RoleId],["roleCreatureId",this._6l.RoleCreatureId]),this.s6l=ModelManager_1.ModelManager.GameAudioModel.AddRideSharingKeepMoveAudio(),this.a6l=ModelManager_1.ModelManager.GameAudioModel.AddRideSharingKeepIdleAudio(),this.h6l=ModelManager_1.ModelManager.GameAudioModel.AddRideSharingMovingInfo(),this.l6l=ModelManager_1.ModelManager.GameAudioModel.AddRideSharingStopMovingAudio()}RemoveDriveAudioEvent(){ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.s6l),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.a6l),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.h6l),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.l6l),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.PlotNetworkEnd,this.Cjo),this.u6l(MathUtils_1.MathUtils.MaxFloat,this._6l),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 退出与角色共乘",["roleId",this._6l?.RoleId],["roleCreatureId",this._6l?.RoleCreatureId]),this._6l=void 0}PlayRideSharingPlotAudio(e){return!!(ModelManager_1.ModelManager.VehicleModel?.RideSharingInfo&&this._6l?.PassengerActor?.Owner||(this.d6l(),this._6l?.PassengerActor))&&this.PlayConfigPlotAudio(e,this._6l)}d6l(){var e,i;this._6l&&(i=(e=ModelManager_1.ModelManager.CreatureModel?.GetEntity(this._6l.RoleCreatureId))?.Entity?.GetComponent(1),e?.Entity&&i?(this._6l.PassengerActor=i,this._6l.PassengerId=e.Entity.Id):(Log_1.Log.CheckError()&&Log_1.Log.Error("Audio",42,"[Vehicle.Audio] 贡多拉与角色共乘语音事件播放,没有乘客实体",["roleId",this._6l.RoleId],["roleCreatureId",this._6l.RoleCreatureId]),this._6l=void 0))}CheckRideSharingState(){return!!ModelManager_1.ModelManager.VehicleModel.CanRiderSharing&&!(!ModelManager_1.ModelManager.VehicleModel.RideSharingInfo||!this._6l||!this._6l.PassengerActor&&(this.d6l(),!this._6l?.PassengerActor))}AddRideSharingKeepMoveAudio(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaRoleAudioKeepMove"),e=new VehicleModel_1.KeepDrivingDurationAtSpeed([1,MathUtils_1.MathUtils.MaxFloat],e,()=>this.CheckRideSharingState(),()=>{this.PlayRideSharingPlotAudio(IAction_1.EGondolaVoiceTriggeredType.KeepMoving)},Math.max(e,this.n6l));return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}AddRideSharingKeepIdleAudio(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaRoleAudioIdle"),e=new VehicleModel_1.KeepDrivingDurationAtSpeed([0,1],e,()=>this.CheckRideSharingState(),()=>{this.PlayRideSharingPlotAudio(IAction_1.EGondolaVoiceTriggeredType.StayIdle)},Math.max(e,this.n6l));return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}AddRideSharingMovingInfo(){const e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaRoleAudioStopMove");var i=new VehicleModel_1.KeepDrivingDurationAtSpeed([1,MathUtils_1.MathUtils.MaxFloat],e,()=>!this.c6l,()=>{this.c6l||(this.c6l=!0,Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 达成持续移动N秒",["Time",e]))});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(i)??0}AddRideSharingStopMovingAudio(){var e=new VehicleModel_1.KeepDrivingDurationAtSpeed([0,0],0,()=>this.c6l,()=>{this.c6l&&(this.c6l=!1,this.PlayRideSharingPlotAudio(IAction_1.EGondolaVoiceTriggeredType.StopMoving))});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}RegisterFishingAudioEvent(){this.i5_={RoleId:IAction_1.ESpecificVehicleRoleType.FishingBoat,PassengerId:Global_1.Global.BaseCharacter?.EntityId??0,PassengerActor:Global_1.Global.BaseCharacter?.CharacterActorComponent},Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 触发捕鱼语音事件添加"),this._9_=this.c9_(),this.J6_=ModelManager_1.ModelManager.GameAudioModel.AddFishingKeepMoveAudio(),this.Z6_=ModelManager_1.ModelManager.GameAudioModel.AddFishingKeepIdleAudio(),this.e5_=ModelManager_1.ModelManager.GameAudioModel.AddFishingMovingInfo(),this.t5_=ModelManager_1.ModelManager.GameAudioModel.AddFishingStopMovingAudio()}RemoveFishingAudioEvent(){ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.J6_),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.Z6_),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.e5_),ModelManager_1.ModelManager.VehicleModel.RemoveKeepDrivingInfo(this.t5_),this.u6l(MathUtils_1.MathUtils.MaxFloat,this.i5_),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 退出捕鱼，移除语音事件"),this.i5_=void 0}PlayFishingAudio(e){return!!(this.i5_&&Global_1.Global.BaseCharacter?.CharacterActorComponent&&this._9_)&&this.PlayConfigPlotAudio(e,this.i5_)}AddFishingKeepMoveAudio(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaFishingAudioKeepMove"),e=new VehicleModel_1.KeepDrivingDurationAtSpeed([1,MathUtils_1.MathUtils.MaxFloat],e,()=>this._9_,()=>{this.PlayFishingAudio(IAction_1.EGondolaVoiceTriggeredType.KeepMoving)},Math.max(e,this.n6l));return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}AddFishingKeepIdleAudio(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaFishingAudioIdle"),e=new VehicleModel_1.KeepDrivingDurationAtSpeed([0,1],e,()=>this._9_,()=>{this.PlayFishingAudio(IAction_1.EGondolaVoiceTriggeredType.StayIdle)},Math.max(e,this.n6l));return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}AddFishingMovingInfo(){const e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("GondolaFishingAudioStopMove");var i=new VehicleModel_1.KeepDrivingDurationAtSpeed([1,MathUtils_1.MathUtils.MaxFloat],e,()=>!this.r5_&&this._9_,()=>{this.r5_||(this.r5_=!0,Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 达成持续移动N秒",["Time",e]))});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(i)??0}AddFishingStopMovingAudio(){var e=new VehicleModel_1.KeepDrivingDurationAtSpeed([0,0],0,()=>this.r5_&&this._9_,()=>{this.r5_&&(this.r5_=!1,this.PlayFishingAudio(IAction_1.EGondolaVoiceTriggeredType.StopMoving))});return ModelManager_1.ModelManager.VehicleModel?.AddKeepDrivingInfo(e)??0}c9_(){var e=PreloadConfigStatementPart1_1.configCommonParamById.GetIntConfig("FishingVoiceCondition");return ControllerHolder_1.ControllerHolder.LevelGeneralController.CheckCondition(e.toString(),void 0,!1)}PlayConfigPlotAudio(e,i){var o,t,r;return!!i.PassengerActor?.Owner&&!(!(o=this.m6l(i.RoleId,e))||(t=o.PlotFlow&&3===o.PlotFlow.length,0===(r=this.C6l(t,o)).length?(Log_1.Log.CheckError()&&Log_1.Log.Error("Audio",42,"[Vehicle.Audio] 贡多拉角色语音播放失败，没有对应Event配置",["roleId",i.RoleId],["type",this.g6l(e)],["PlotFlow",o.PlotFlow],["Voice",o.Voice]),1):this.u6l(o.Priority,i)?this.CheckAudioProbabilityInfo(i.PassengerId,r,{DefaultCooldownTime:t?this.o6l:this.n6l,DefaultProbability:1})?(t?this.f6l(o,i):this.p6l(o,i),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉与角色语音播放",["Event",r],["roleId",i.RoleId],["type",this.g6l(e)]),0):(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉角色语音播放CD中"),1):(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 触发贡多拉角色语音失败，当前正在播放的共乘语音优先级大于或等于触发语音",["roleId",i.RoleId],["type",this.g6l(e)]),1)))}u6l(e,i){let o=!0;return i?.AudioHandle&&(i.AudioHandle.Priority<e?(AudioSystem_1.AudioSystem.ExecuteAction(i.AudioHandle.Handle,0),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 打断当前正在播放优先级更低的语音"),i.AudioHandle=void 0):o=!1),i?.PlotHandle&&(i.PlotHandle.Priority<e?(FlowController_1.FlowController.FinishFlow("退出贡多拉停止角色贡多拉剧情",i.PlotHandle.Handle,!1),Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 打断当前正在播放优先级更低的剧情"),i.PlotHandle=void 0):o=!1),!!o}m6l(e,i){var o=GongduolaPassengerVoiceConfigByRoleIdAndTriggerType_1.configGongduolaPassengerVoiceConfigByRoleIdAndTriggerType.GetConfigList(e,i);if(o&&0!==o.length)return o[0];Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 贡多拉与角色共乘语音播放失败，没有对应配置",["roleId",e],["type",this.g6l(i)])}C6l(e,i){let o="";if(e)for(const t of i.PlotFlow)o+=t;else i.Voice&&0<i.Voice.length&&(o=i.Voice);return o}f6l(e,i){i.PlotHandle={Priority:e.Priority,Handle:0},i.PlotHandle.Handle=FlowController_1.FlowController.StartFlow(e.PlotFlow[0],parseInt(e.PlotFlow[1]),parseInt(e.PlotFlow[2]))}p6l(o,t){t.AudioHandle={Priority:o.Priority,Handle:0},t.AudioHandle.Handle=AudioSystem_1.AudioSystem.PostEvent(o.Voice,t.PassengerActor.Owner,{CallbackMask:1,CallbackHandler:(e,i)=>{Log_1.Log.CheckDebug()&&Log_1.Log.Debug("Audio",42,"[Vehicle.Audio] 语音播放完成回调",["Event",o.Voice]),t&&(t.AudioHandle=void 0)}})}g6l(e){switch(e){case IAction_1.EGondolaVoiceTriggeredType.FindTreasure:return"找到海上宝箱";case IAction_1.EGondolaVoiceTriggeredType.InviteRole:return"邀请角色上船";case IAction_1.EGondolaVoiceTriggeredType.KeepMoving:return"保持移动N秒";case IAction_1.EGondolaVoiceTriggeredType.OpenCompass:return"打开指南针";case IAction_1.EGondolaVoiceTriggeredType.StayIdle:return"保持静止N秒";case IAction_1.EGondolaVoiceTriggeredType.StopMoving:return"移动N秒后停止移动";case IAction_1.EGondolaVoiceTriggeredType.NearFishingPoint:return"靠近捕鱼点";default:return"到特定区域/未知"}}}exports.GameAudioModel=GameAudioModel;
//# sourceMappingURL=GameAudioModel.js.map