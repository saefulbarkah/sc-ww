
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SdkLoginView=void 0;const UE=require("ue"),MultiTextLang_1=require("../../../../Core/Define/ConfigQuery/MultiTextLang"),PlatformSdkConfig_1=require("../../../../Launcher/Platform/PlatformSdk/PlatformSdkConfig"),PlatformSdkManagerNew_1=require("../../../../Launcher/Platform/PlatformSdk/PlatformSdkManagerNew"),PlatformSdkReportData_1=require("../../../../Launcher/Platform/PlatformSdk/PlatformSdkReportData"),ControllerHolder_1=require("../../../Manager/ControllerHolder"),ModelManager_1=require("../../../Manager/ModelManager"),UiViewBase_1=require("../../../Ui/Base/UiViewBase"),UiManager_1=require("../../../Ui/UiManager"),SdkViewData_1=require("../SdkViewData");class SdkLoginView extends UiViewBase_1.UiViewBase{constructor(){super(...arguments),this.eDo=()=>{ModelManager_1.ModelManager.LoginModel.SetSdkLoginState(0),this.CloseMe()},this.E7e=()=>{var e=new SdkViewData_1.SdkPopUpViewData;e.ViewType=0,e.NeedMask=!0,e.Text=MultiTextLang_1.configMultiTextLang.GetLocalTextNew("CreatingAccount"),UiManager_1.UiManager.OpenView("SdkTipsMiddlePopUpView",e,()=>{var e=new PlatformSdkReportData_1.PlatformReportCreateNewAccount;PlatformSdkManagerNew_1.PlatformSdkManagerNew.GetPlatformSdk().ReportToThirdParty(e),PlatformSdkManagerNew_1.PlatformSdkManagerNew.GetPlatformSdk().BindAccountThenLogin((e,a,r,t)=>{UiManager_1.UiManager.CloseView("SdkTipsMiddlePopUpView"),t&&(UiManager_1.UiManager.CloseView("SdkLoginView"),ControllerHolder_1.ControllerHolder.LoginController.OnSdkLoginResult(t.code,t.cuid,t.username))})})},this.Rnl=()=>{const e=new PlatformSdkReportData_1.PlatformReportClickOldAccount;PlatformSdkManagerNew_1.PlatformSdkManagerNew.GetPlatformSdk().ReportToThirdParty(e);var a=new SdkViewData_1.SdkMailViewData,r=PlatformSdkConfig_1.PlatformSdkConfig.GetPrivacyPolicy(),t=PlatformSdkConfig_1.PlatformSdkConfig.GetTermsOfService(),i=PlatformSdkConfig_1.PlatformSdkConfig.GetChildPolicy();if(r&&""!==r){var o=MultiTextLang_1.configMultiTextLang.GetLocalTextNew("MenuConfig_115_Name");const e=SdkViewData_1.SdkProtocolData.Create(r,o);a.ProtocolData.push(e)}if(t&&""!==t){r=MultiTextLang_1.configMultiTextLang.GetLocalTextNew("MenuConfig_114_Name");const e=SdkViewData_1.SdkProtocolData.Create(t,r);a.ProtocolData.push(e)}if(i&&""!==i){o=MultiTextLang_1.configMultiTextLang.GetLocalTextNew("MenuConfig_116_Name");const e=SdkViewData_1.SdkProtocolData.Create(i,o);a.ProtocolData.push(e)}UiManager_1.UiManager.OpenView("SdkMailView",a)}}OnRegisterComponent(){this.ComponentRegisterInfos=[[0,UE.UIButtonComponent],[1,UE.UIButtonComponent],[2,UE.UIText],[3,UE.UIVerticalLayout],[4,UE.UIButtonComponent]],this.BtnBindInfo=[[0,this.eDo],[1,this.E7e],[4,this.Rnl]]}OnAfterShow(){var e=new PlatformSdkReportData_1.PlatformReportSelectLogin;PlatformSdkManagerNew_1.PlatformSdkManagerNew.GetPlatformSdk().ReportToThirdParty(e)}}exports.SdkLoginView=SdkLoginView;
//# sourceMappingURL=SdkLoginView.js.map