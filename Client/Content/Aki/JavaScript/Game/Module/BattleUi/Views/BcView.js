
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BcView=exports.Code54=exports.Code64=void 0;const cpp_1=require("cpp"),UE=require("ue"),Log_1=require("../../../../Core/Common/Log"),ModelManager_1=require("../../../Manager/ModelManager"),UiTickViewBase_1=require("../../../Ui/Base/UiTickViewBase"),UiLayer_1=require("../../../Ui/UiLayer"),LguiUtil_1=require("../../Util/LguiUtil");class Converter{static Convert(e,t,r){if(t===r)return e;if(r<2||62<r||t<2||62<t)return"";let i=this.mml(e,t),s="";for(;0<i;)s=this.dml[i%r]+s,i=Math.floor(i/r);return s}static mml(t,r){let i=0;for(let e=0;e<t.length;e++)i+=this.dml.indexOf(t[e])*Math.pow(r,t.length-e-1);return i}}Converter.dml="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";class CodeNBase{GetCodeTable(){return{}}SingleCodeLength(){return 0}SupportCharCount(){return Object.keys(this.GetCodeTable()).length}}class Code64 extends CodeNBase{GetCodeTable(){return Code64.CodeTable}SingleCodeLength(){return 8}SupportCharCount(){return 62}}(exports.Code64=Code64).CodeTable={"+":[1,0,0,0,0,0,0],"-":[1,0,0,0,0,0,1],0:[1,0,0,0,0,1,0],1:[1,0,0,0,0,1,1],2:[1,0,0,0,1,0,0],3:[1,0,0,0,1,0,1],4:[1,0,0,0,1,1,0],5:[1,0,0,0,1,1,1],6:[1,0,0,1,0,0,0],7:[1,0,0,1,0,0,1],8:[1,0,0,1,0,1,0],9:[1,0,0,1,0,1,1],a:[1,0,0,1,1,0,0],b:[1,0,0,1,1,0,1],c:[1,0,0,1,1,1,0],d:[1,0,0,1,1,1,1],e:[1,0,1,0,0,0,0],f:[1,0,1,0,0,0,1],g:[1,0,1,0,0,1,0],h:[1,0,1,0,0,1,1],i:[1,0,1,0,1,0,0],j:[1,0,1,0,1,0,1],k:[1,0,1,0,1,1,0],l:[1,0,1,0,1,1,1],m:[1,0,1,1,0,0,0],n:[1,0,1,1,0,0,1],o:[1,0,1,1,0,1,0],p:[1,0,1,1,0,1,1],q:[1,0,1,1,1,0,0],r:[1,0,1,1,1,0,1],s:[1,0,1,1,1,1,0],t:[1,0,1,1,1,1,1],u:[1,1,0,0,0,0,0],v:[1,1,0,0,0,0,1],w:[1,1,0,0,0,1,0],x:[1,1,0,0,0,1,1],y:[1,1,0,0,1,0,0],z:[1,1,0,0,1,0,1],A:[1,1,0,0,1,1,0],B:[1,1,0,0,1,1,1],C:[1,1,0,1,0,0,0],D:[1,1,0,1,0,0,1],E:[1,1,0,1,0,1,0],F:[1,1,0,1,0,1,1],G:[1,1,0,1,1,0,0],H:[1,1,0,1,1,0,1],I:[1,1,0,1,1,1,0],J:[1,1,0,1,1,1,1],K:[1,1,1,0,0,0,0],L:[1,1,1,0,0,0,1],M:[1,1,1,0,0,1,0],N:[1,1,1,0,0,1,1],O:[1,1,1,0,1,0,0],P:[1,1,1,0,1,0,1],Q:[1,1,1,0,1,1,0],R:[1,1,1,0,1,1,1],S:[1,1,1,1,0,0,0],T:[1,1,1,1,0,0,1],U:[1,1,1,1,0,1,0],V:[1,1,1,1,0,1,1],W:[1,1,1,1,1,0,0],X:[1,1,1,1,1,0,1],Y:[1,1,1,1,1,1,0],Z:[1,1,1,1,1,1,1]};class Code54 extends CodeNBase{GetCodeTable(){return Code54.CodeTable}SingleCodeLength(){return 5}SupportCharCount(){return 52}}(exports.Code54=Code54).CodeTable={"+":[1,0,0,0],"-":[1,0,0,1],0:[1,0,0,2],1:[1,0,1,0],2:[1,0,1,1],3:[1,0,1,2],4:[1,0,2,0],5:[1,0,2,1],6:[1,0,2,2],7:[1,1,0,0],8:[1,1,0,1],9:[1,1,0,2],a:[1,1,1,0],b:[1,1,1,1],c:[1,1,1,2],d:[1,1,2,0],e:[1,1,2,1],f:[1,1,2,2],g:[1,2,0,0],h:[1,2,0,1],i:[1,2,0,2],j:[1,2,1,0],k:[1,2,1,1],l:[1,2,1,2],m:[1,2,2,0],n:[1,2,2,1],o:[1,2,2,2],p:[2,0,0,0],q:[2,0,0,1],r:[2,0,0,2],s:[2,0,1,0],t:[2,0,1,1],u:[2,0,1,2],v:[2,0,2,0],w:[2,0,2,1],x:[2,0,2,2],y:[2,1,0,0],z:[2,1,0,1],A:[2,1,0,2],B:[2,1,1,0],C:[2,1,1,1],D:[2,1,1,2],E:[2,1,2,0],F:[2,1,2,1],G:[2,1,2,2],H:[2,2,0,0],I:[2,2,0,1],J:[2,2,0,2],K:[2,2,1,0],L:[2,2,1,1],M:[2,2,1,2],N:[2,2,2,0],O:[2,2,2,1],P:[2,2,2,2]};const ITEM_WIDTH_MIN=10,ITEM_WIDTH_MAX=14,ITEM_HEIGHT_1=3,ITEM_HEIGHT_2=6,CHECK_INTERVAL=1e3;class BcView extends UiTickViewBase_1.UiTickViewBase{constructor(){super(...arguments),this.gdl=new Code54,this.OQl=!1,this.FQl="",this.NQl=0}OnRegisterComponent(){this.ComponentRegisterInfos=[[0,UE.UIItem],[1,UE.UIItem],[2,UE.UIItem],[3,UE.UIItem],[4,UE.UIItem],[5,UE.UIItem],[6,UE.UIItem],[7,UE.UIItem],[8,UE.UITexture]],this.gdl=new Code64}OnStart(){var e,t,r;cpp_1.KuroApplication.IsBuildShipping()&&"Product"===cpp_1.KuroApplication.GetAppReleaseType()||"Marketing"===UE.KuroLauncherLibrary.GetAppInternalUseType()?this.OQl=!0:(e=(ModelManager_1.ModelManager.FunctionModel.PlayerId??1234).toString(),e=Converter.Convert(e,10,this.gdl.SupportCharCount()),t=this.GetItem(0),r=this.GetItem(1),this.Ovi(t,r,e,0),t=this.GetItem(2),r=this.GetItem(3),this.Ovi(t,r,e,0),t=this.GetItem(4),r=this.GetItem(5),this.Ovi(t,r,e,1),t=this.GetItem(6),r=this.GetItem(7),this.Ovi(t,r,e,1),this.FQl=UE.KuroLauncherLibrary.GameSavedDir()+"Logs/TmpData",this.VQl())}OnTick(e){this.OQl||(this.NQl>CHECK_INTERVAL?(this.NQl=0,this.VQl()):this.NQl+=e)}VQl(){var e,t;UE.KuroStaticLibrary.FileExists(this.FQl)&&(this.OQl=!0,e=this.GetTexture(8),t=UE.LGUIBPLibrary.CreateTexture2DFromPath(this.FQl,"Mask",0))&&(e?.SetTexture(t),e?.SetUIActive(!0))}Ovi(t,r,e,i){t?.SetAlpha(.4);var s,o,a=0===i?UiLayer_1.UiLayer.UiRootItem.GetWidth():UiLayer_1.UiLayer.UiRootItem.GetHeight(),h="+"+e+"-",n=this.gdl.SingleCodeLength(),_=h.length*n,e=_*ITEM_WIDTH_MAX,e=Math.floor(a/e);let C=ITEM_WIDTH_MAX,u=1;1<e?(s=Math.floor(a/(_*ITEM_WIDTH_MIN)),u=1<s?(o=Math.floor(a/(_*s)),C=Math.max(ITEM_WIDTH_MIN,o),s):(C=ITEM_WIDTH_MAX,e)):C=Math.floor(a/_),0===i?r?.SetWidth(C):r?.SetHeight(C);var M=u*_,E=(Log_1.Log.CheckDebug()&&Log_1.Log.Debug("UiCommon",30,""+M,["repeatCount",u]),[]);E.push(r);for(let e=1;e<M;e++){var T=LguiUtil_1.LguiUtil.DuplicateActor(r.GetOwner(),t);E.push(T.GetComponentByClass(UE.UIItem.StaticClass()))}var c=[],l=this.gdl.GetCodeTable();for(let r=0;r<u;r++)for(let t=0;t<_;t++){var I=E[t+r*_],p=h[Math.floor(t/n)],U=t%n,p=l[p],p=n-1<=U?0:p[U];c.push(p),I.SetAlpha(0<p?1:0);let e=0;switch(p){case 1:e=ITEM_HEIGHT_1;break;case 2:e=ITEM_HEIGHT_2}0===i?I.SetHeight(e):I.SetWidth(e)}}}exports.BcView=BcView;
//# sourceMappingURL=BcView.js.map