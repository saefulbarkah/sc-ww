
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarkItemRangeHandle=void 0;const MarkRangeImageComponent_1=require("../Components/MarkRangeImageComponent"),MarkItemComponentHandle_1=require("./MarkItemComponentHandle");class MarkItemRangeHandle extends MarkItemComponentHandle_1.MarkItemComponentHandle{constructor(){super(...arguments),this.RangeComponentInternal=void 0}GetRangeComponent(){return void 0===this.RangeComponentInternal&&(this.RangeComponentInternal=new MarkRangeImageComponent_1.MarkRangeImageComponent,this.RangeComponentInternal.CreateByPoolResourceIdAsync("UiItem_MarkArea_Prefab",this.Context.MarkComponentContainer).then(()=>{this.RangeComponentInternal&&this.ApplyModified()})),this.RangeComponentInternal}DestroyRangeComponent(){void 0!==this.RangeComponentInternal&&(this.RangeComponentInternal.RecycleToPool(),this.RangeComponentInternal=void 0)}OnSetVisible(e){this.Context.MarkItemEntity.ViewLifeCircle.SetChildViewVisibility(2,e)}OnApplyModified(){var e,t,n=this.Context.MarkItemEntity.ViewLifeCircle;n.IsChildViewStateDirty(2)&&((e=this.GetRangeComponent()).IsStart||e.IsShowOrShowing||e.IsHideOrHiding)&&(t=n.IsChildViewVisible(2),n.SetChildViewVisibleClean(2),this.ResetRangeComponent(e),e.SetActive(t))}ResetRangeComponent(e){var t=this.Context.MarkItemEntity.GetComponent(10).RangeSize;e.RangeArea?.SetWidth(2*t),e.RangeArea?.SetHeight(2*t),e.RangeImage?.SetWidth(2*t),e.RangeImage?.SetHeight(2*t),this.OnResetRangeComponent(e)}OnResetRangeComponent(e){}OnDispose(){this.DestroyRangeComponent(),super.OnDispose()}}exports.MarkItemRangeHandle=MarkItemRangeHandle;
//# sourceMappingURL=MarkItemRangeHandle.js.map