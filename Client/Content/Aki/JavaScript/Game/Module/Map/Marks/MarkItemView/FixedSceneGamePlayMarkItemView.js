
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FixedSceneGamePlayMarkItemView=void 0;const ConfigManager_1=require("../../../../Manager/ConfigManager"),ModelManager_1=require("../../../../Manager/ModelManager"),WorldMapDefine_1=require("../../../WorldMap/WorldMapDefine"),ConfigMarkItemView_1=require("./ConfigMarkItemView");class FixedSceneGamePlayMarkItemView extends ConfigMarkItemView_1.ConfigMarkItemView{constructor(e){super(e)}OnInitialize(){super.OnInitialize(),this.OnIconPathChanged(this.Holder.IconPath)}OnAfterShow(){super.OnAfterShow(),this.UpdateIcon()}OnSafeUpdate(e,a,i){var r=this.Holder,t=r.IconPath,n=ModelManager_1.ModelManager.LevelPlayModel.GetLevelPlayInfo(r.MarkConfig.RelativeId);!n||n.IsClose?r.IconPath=r.MarkConfig.LockMarkPic:r.IconPath=r.MarkConfig.UnlockMarkPic,t!==r.IconPath&&this.OnIconPathChanged(r.IconPath)}OnIconPathChanged(e){var a;this.IsViewReady&&(a=this.GetSprite(1),this.LoadIcon(a,e),this.Holder.IsMultiMap()?this.GetChildIconComponentAsync().then(e=>{var a;e.GetRootItem()&&(a=this.Holder,e.SetUiActive(!0),e.Icon=a.IsSelectThisFloor?ConfigManager_1.ConfigManager.UiResourceConfig.GetResourcePath(WorldMapDefine_1.MULTI_MAP_SELECT_ICON_PATH):ConfigManager_1.ConfigManager.UiResourceConfig.GetResourcePath(WorldMapDefine_1.MULTI_MAP_ICON_PATH))}):this.ChildIconComponentInternal?.SetUiActive(!1))}UpdateIcon(){var e=this.Holder.IconPath;this.OnIconPathChanged(e)}}exports.FixedSceneGamePlayMarkItemView=FixedSceneGamePlayMarkItemView;
//# sourceMappingURL=FixedSceneGamePlayMarkItemView.js.map