
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarkPanelBase=void 0;const StringUtils_1=require("../../../../../Core/Utils/StringUtils"),ConfigManager_1=require("../../../../Manager/ConfigManager"),UiPanelBase_1=require("../../../../Ui/Base/UiPanelBase"),UiActorPool_1=require("../../../../Ui/UiActorPool"),MarkSpritePool_1=require("../../Container/MarkSpritePool");class MarkPanelBase extends UiPanelBase_1.UiPanelBase{constructor(){super(),this.wh_=void 0,this.NPt=void 0,this.LoadingPromiseInner=void 0,this.SkipDestroyActor=!0}get LoadingPromise(){return this.LoadingPromiseInner}async CreateByPoolResourceIdAsync(i,t){await this.Uh_(i,t),this.IsDestroyOrDestroying||this.WaitToDestroy||await this.CreateByActorAsync(this.wh_.Actor,t)}async CreateThenShowByPoolResourceIdAsync(i,t){await this.Uh_(i,t),this.IsDestroyOrDestroying||this.WaitToDestroy||await this.CreateThenShowByActorAsync(this.wh_.Actor,t)}async Uh_(i,t){this.NPt=i;i=ConfigManager_1.ConfigManager.UiResourceConfig.GetResourcePath(i);this.wh_=await UiActorPool_1.UiActorPool.GetAsync(i),void 0!==t&&this.wh_.UiItem.SetUIParent(t)}RecycleToPool(){this.Dh_()}async Dh_(){this.LoadingPromise&&(await this.LoadingPromise,this.LoadingPromiseInner=void 0),this.Destroy(),void 0!==this.wh_&&(UiActorPool_1.UiActorPool.RecycleAsync(this.wh_,this.NPt),this.wh_=void 0)}OnAfterHide(){MarkSpritePool_1.MarkSpritePool.UnRef(this.ComponentId)}SetSpriteByPath(t,e,i,s=void 0,o=void 0){var r;StringUtils_1.StringUtils.IsEmpty(t)?o?.(!1):(r=MarkSpritePool_1.MarkSpritePool.Get(this.ComponentId,t))?.IsValid()?(e.SetSprite(r,i),o&&o(!0)):super.SetSpriteByPath(t,e,i,s,i=>{i&&MarkSpritePool_1.MarkSpritePool.Ref(this.ComponentId,t,e.GetSprite()),o&&o(i)})}}exports.MarkPanelBase=MarkPanelBase;
//# sourceMappingURL=MarkPanelBase.js.map