
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InstanceDungeonMowingDropDownItem=void 0;const ue_1=require("ue"),Log_1=require("../../../../Core/Common/Log"),TakeWeedsDifficultyById_1=require("../../../../Core/Define/ConfigQuery/TakeWeedsDifficultyById"),PreloadConfigStatementPart3_1=require("../../../Preload/PreloadConfigStatementPart3"),UiPanelBase_1=require("../../../Ui/Base/UiPanelBase"),ActivityMowingController_1=require("../../Activity/ActivityContent/Mowing/ActivityMowingController"),CommonDropDown_1=require("../../Common/DropDown/CommonDropDown"),MowingDifficultyDropDownPanel_1=require("../MowingDifficultyDropDownPanel");class InstanceDungeonMowingDropDownItem extends UiPanelBase_1.UiPanelBase{constructor(){super(...arguments),this.tth=void 0,this.NUe=void 0,this.u_i=[],this.c_i=void 0,this.m_i=void 0,this.d_i=(t,i)=>new MowingDifficultyDropDownPanel_1.DropDownItem(t),this.C_i=t=>new MowingDifficultyDropDownPanel_1.DropDownTitle(t),this.g_i=t=>t,this.f_i=(t,i)=>{var e=ActivityMowingController_1.ActivityMowingController.GetMowingActivityData();e?this.m_i?ActivityMowingController_1.ActivityMowingController.RequestSetDifficultyAll(e.Id,i.Id):Log_1.Log.CheckError()&&Log_1.Log.Error("Activity",37,"当前没有割草活动副本数据"):Log_1.Log.CheckError()&&Log_1.Log.Error("Activity",37,"当前没有割草活动数据")}}OnRegisterComponent(){this.ComponentRegisterInfos=[[0,ue_1.UIItem]],this.BtnBindInfo=[]}async OnBeforeStartAsync(){await this.p_i()}async p_i(){this.c_i=new CommonDropDown_1.CommonDropDown(this.GetItem(0),this.d_i,this.C_i),this.c_i.SetOnSelectCall(this.f_i),await this.c_i.Init()}OnStart(){this.AddChild(this.c_i),this.tth&&this.RefreshItem(this.tth.InstanceId)}v_i(){var t=PreloadConfigStatementPart3_1.configKillMonstersScoresByInstanceID.GetConfig(this.NUe);if(!t||0===t.DifficultyOptions.length)return this.u_i;var i=[];for(const e of t.DifficultyOptions)i.push(TakeWeedsDifficultyById_1.configTakeWeedsDifficultyById.GetConfig(e));return i}RefreshItem(t){this.InAsyncLoading()?this.tth={InstanceId:t}:(this.NUe=t,this.m_i=PreloadConfigStatementPart3_1.configKillMonstersScoresByInstanceID.GetConfig(this.NUe),(t=ActivityMowingController_1.ActivityMowingController.GetMowingActivityData())?this.c_i?.InitScroll(this.v_i(),this.g_i,t.GetLevelDiffIndex(this.NUe)):Log_1.Log.CheckError()&&Log_1.Log.Error("Activity",37,"当前没有割草活动数据"))}}exports.InstanceDungeonMowingDropDownItem=InstanceDungeonMowingDropDownItem;
//# sourceMappingURL=InstanceDungeonMowingDropDownItem.js.map