
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonQteViewBase=void 0;const Info_1=require("../../../../Core/Common/Info"),Time_1=require("../../../../Core/Common/Time"),EventDefine_1=require("../../../Common/Event/EventDefine"),EventSystem_1=require("../../../Common/Event/EventSystem"),ModelManager_1=require("../../../Manager/ModelManager"),UiTickViewBase_1=require("../../../Ui/Base/UiTickViewBase");class CommonQteViewBase extends UiTickViewBase_1.UiTickViewBase{constructor(){super(...arguments),this.IsMobile=!1,this.IsPause=!1,this.IsQteStart=!1,this.IsQteEnd=!1,this.oIl=e=>{this.CommonQteEnd(e)},this.esh=()=>{this.RefreshPauseState()},this.mFl=()=>{this.RefreshOnBattleUiVisibleChanged()},this.XBo=()=>{this.InputControllerChangeInner()}}OnRegisterComponent(){this.IsMobile=Info_1.Info.IsInTouch()}OnStart(){ModelManager_1.ModelManager.BattleUiModel.ChildViewData.AddCallback(20,this.mFl)}OnBeforeDestroy(){ModelManager_1.ModelManager.BattleUiModel.ChildViewData.RemoveCallback(20,this.mFl)}OnAfterShow(){super.OnAfterShow(),this.RefreshPauseState()}OnBeforeHide(){super.OnBeforeHide(),this.RefreshPauseState()}OnAddEventListener(){EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.TriggerUiTimeDilation,this.esh),EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.CommonQteEnd,this.oIl),this.IsMobile||EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.InputControllerChange,this.XBo)}OnRemoveEventListener(){EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.TriggerUiTimeDilation,this.esh),EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.CommonQteEnd,this.oIl),this.IsMobile||EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.InputControllerChange,this.XBo)}CommonQteEnd(e){}RefreshOnBattleUiVisibleChanged(){}RefreshPauseState(){0===Time_1.Time.TimeDilation?this.IsPause||(this.IsPause=!0,this.OnQtePause()):this.IsPause&&(this.OnQteResume(),this.IsPause=!1)}OnQtePause(){}OnQteResume(){}HandleQteEnd(){}InputControllerChangeInner(){}}exports.CommonQteViewBase=CommonQteViewBase;
//# sourceMappingURL=CommonQteViewBase.js.map