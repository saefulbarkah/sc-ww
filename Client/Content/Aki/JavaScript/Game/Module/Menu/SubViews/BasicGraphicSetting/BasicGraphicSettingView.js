
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BasicGraphicSettingView=void 0;const UE=require("ue"),EventDefine_1=require("../../../../Common/Event/EventDefine"),EventSystem_1=require("../../../../Common/Event/EventSystem"),GameSettingsDefine_1=require("../../../../GameSettings/GameSettingsDefine"),ControllerHolder_1=require("../../../../Manager/ControllerHolder"),ModelManager_1=require("../../../../Manager/ModelManager"),UiViewBase_1=require("../../../../Ui/Base/UiViewBase"),PopupCaptionItem_1=require("../../../../Ui/Common/PopupCaptionItem"),ButtonItem_1=require("../../../Common/Button/ButtonItem"),GenericLayout_1=require("../../../Util/Layout/GenericLayout"),BasicGraphicSettingData_1=require("./BasicGraphicSettingData"),BasicGraphicSettingSliderItem_1=require("./BasicGraphicSettingSliderItem");class BasicGraphicSettingView extends UiViewBase_1.UiViewBase{constructor(){super(...arguments),this.Yac=void 0,this.zac=[],this.lqe=void 0,this.Jac=void 0,this.Zac=void 0,this.ehc=!1,this.thc=void 0,this.$An=t=>{this.Yac.SetActive(!0),this.Gti(t)},this.hBi=()=>{for(const t of this.zac)t.OnChangeValue(t.DefaultCurValue);this.Yac.RefreshByData(this.zac)},this.Mke=()=>{ControllerHolder_1.ControllerHolder.GenericPromptController.ShowPromptByCode("ImageColorSetting"),this.ehc=!0,this.CloseMe()},this.ihc=()=>{return new BasicGraphicSettingSliderItem_1.BasicGraphicSettingSliderItem}}OnRegisterComponent(){this.ComponentRegisterInfos=[[0,UE.UITexture],[1,UE.UITexture],[2,UE.UITexture],[3,UE.UIItem],[4,UE.UIItem],[5,UE.UIItem],[6,UE.UIVerticalLayout],[7,UE.UIItem]]}async OnBeforeStartAsync(){var t=this.GetItem(3);this.lqe=new PopupCaptionItem_1.PopupCaptionItem,this.Jac=new ButtonItem_1.ButtonItem,this.Zac=new ButtonItem_1.ButtonItem,await Promise.all([this.lqe.CreateThenShowByActorAsync(t.GetOwner()),this.Jac.CreateThenShowByActorAsync(this.GetItem(4).GetOwner()),this.Zac.CreateThenShowByActorAsync(this.GetItem(5).GetOwner())]),this.lqe.SetCloseCallBack(()=>{this.CloseMe()}),this.Jac.SetFunction(this.hBi),this.Jac.SetLocalTextNew("ImageColorSettingBtn_Text1"),this.Zac.SetFunction(this.Mke),this.Zac.SetLocalTextNew("ImageColorSettingBtn_Text2")}OnStart(){this.Yac=new GenericLayout_1.GenericLayout(this.GetVerticalLayout(6),this.ihc),this.zac=BasicGraphicSettingData_1.BasicGraphicSettingData.GetBasicGraphicSettingSliderDataList(),this.Yac.RefreshByData(this.zac),this.thc=ModelManager_1.ModelManager.MenuModel.GetMenuDataByFunctionId(GameSettingsDefine_1.EFunction.BasicGraphicSetting),this.lqe.SetTitleByTextIdAndArgNew(this.thc.FunctionName),this.lqe.SetHelpBtnActive(!1),this.Yac.SetActive(!1)}OnAddEventListener(){EventSystem_1.EventSystem.Add(EventDefine_1.EEventName.OnActivitySequenceEmitEvent,this.$An)}OnRemoveEventListener(){EventSystem_1.EventSystem.Remove(EventDefine_1.EEventName.OnActivitySequenceEmitEvent,this.$An)}OnBeforeDestroy(){if(this.ehc)for(const t of this.zac)t.OnApplyValue()}Gti(t){this.Yac.GetUiAnimController()?.Play(t)}}exports.BasicGraphicSettingView=BasicGraphicSettingView;
//# sourceMappingURL=BasicGraphicSettingView.js.map