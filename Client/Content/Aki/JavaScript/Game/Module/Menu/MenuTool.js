
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FunctionItemViewTool=exports.MenuTool=void 0;const UE=require("ue"),Info_1=require("../../../Core/Common/Info"),LanguageSystem_1=require("../../../Core/Common/LanguageSystem"),Log_1=require("../../../Core/Common/Log"),CommonDefine_1=require("../../../Core/Define/CommonDefine"),MathUtils_1=require("../../../Core/Utils/MathUtils"),BaseConfigController_1=require("../../../Launcher/BaseConfig/BaseConfigController"),GameSettingsDeviceRender_1=require("../../GameSettings/GameSettingsDeviceRender"),CloudGameManager_1=require("../../Manager/CloudGameManager"),ConfigManager_1=require("../../Manager/ConfigManager"),ModelManager_1=require("../../Manager/ModelManager");class MenuTool{static CheckPlatform(e){var r=e.Platform;if(MenuTool.IsSimulatedPlatform())return MenuTool.Y0l(e);switch(r){case 1:return Info_1.Info.IsPs5Platform()?0===e.Ps5Hide:Info_1.Info.IsPcPlatform();case 2:return Info_1.Info.IsMobilePlatform()||CloudGameManager_1.CloudGameManager.IsCloudGame;case 3:return Info_1.Info.IsAndroidPlatform();case 4:return Info_1.Info.IsIosPlatform();case 5:return Info_1.Info.IsPs5Platform();default:return!Info_1.Info.IsPs5Platform()||0===e.Ps5Hide}}static IsSimulatedPlatform(){var e=ModelManager_1.ModelManager.MenuModel?.SimulatedPlatform;return-1!==e&&void 0!==e}static Y0l(e){var r=ModelManager_1.ModelManager.MenuModel?.SimulatedPlatform;switch(e.Platform){case 1:return 5===r?0===e.Ps5Hide:1===r;case 2:return 2===r||4===r||3===r;case 3:return 2===r||3===r;case 4:return 2===r||4===r;case 5:return 5===r;default:return 5!==r||0===e.Ps5Hide}}static CheckDeviceVendor(e){var r=GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsDlssGpuDevice(),a=UE.XeSSBlueprintLibrary.IsXeSSSupported(),t=GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsFsrDevice(),n=GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsPWSDKDevice(),o=GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsDlss3GpuDevice(),s=o,u=UE.KuroRenderingRuntimeBPPluginBPLibrary.GetLumenGISupported(),i=UE.KuroRenderingRuntimeBPPluginBPLibrary.GetRayTracingReflectionsSupported(),c=UE.KuroRenderingRuntimeBPPluginBPLibrary.GetRayTracingShadowsSupported();switch(e){case 81:return r;case 82:return o;case 83:case 84:case 85:return r;case 87:return t;case 128:return n;case 127:return GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsMetalFxDevice();case 125:case 126:return a;case 58:return!GameSettingsDeviceRender_1.GameSettingsDeviceRender.IsAndroidPlatformScreenBad()&&1!==Info_1.Info.PlatformType;case 76:return UE.KuroAudioStatics.IsDolbyAtmosGameSupported();case 20026:return s;case 20028:return u;case 20027:return i;case 20029:return c;default:return!0}}static CheckIosReviewShield(e){return!(!ConfigManager_1.ConfigManager.CommonConfig.GetIosReviewShieldMenuArray()?.includes(e)||!BaseConfigController_1.BaseConfigController.GetIosAuditFirstDownloadTip())}static GetLanguageDefineData(){return LanguageSystem_1.LanguageSystem.GetAllLanguageDefines()}static GetAudioCodeById(e){var r=LanguageSystem_1.LanguageSystem.GetLanguageDefineByType(e);return r?r.AudioCode:(Log_1.Log.CheckError()&&Log_1.Log.Error("Menu",30,"LanguageSystem 未定义此语种",["非法值",e]),CommonDefine_1.ENGLISH_ISO639_1)}static GetLanguageCodeById(e){var r=LanguageSystem_1.LanguageSystem.GetLanguageDefineByType(e);return r?r.LanguageCode:(Log_1.Log.CheckError()&&Log_1.Log.Error("Menu",10,"LanguageSystem 未定义此语种",["非法值",e]),CommonDefine_1.ENGLISH_ISO639_1)}static GetLanguageIdByCode(e){var r=LanguageSystem_1.LanguageSystem.GetLanguageDefineByCode(e);return r?r.LanguageType:(Log_1.Log.CheckWarn()&&Log_1.Log.Warn("Menu",10,"LanguageSystem 未定义此语种",["非法值",e]),this.GetLanguageIdByCode(CommonDefine_1.ENGLISH_ISO639_1))}static GetSpeechTypeByLanguageType(e){return LanguageSystem_1.LanguageSystem.GetSpeechTypeByLanguageType(e)}}exports.MenuTool=MenuTool;class FunctionItemViewTool{static GetSliderPosition(e,r,a=0){var t=e[0],e=e[1],t=MathUtils_1.MathUtils.GetRangePct(t,e,r);return MathUtils_1.MathUtils.GetFloatPointFloor(t*e,a)}static CheckNotice(e){return 0<e.OptionsValueList?.length||0<e.RelationFuncIds.length}}exports.FunctionItemViewTool=FunctionItemViewTool;
//# sourceMappingURL=MenuTool.js.map