
"use strict";function calculateCellSize(t,s){return t<=s?s-t+1:exports.BIGSTUFFEDDOLL_RINGCELLCOUNT-t+1+s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ContinuousArea=exports.Area=exports.BigStuffedRingInfo=exports.BigStuffedGameInfo=exports.calculateCellSize=exports.SINGLECELL_ANGLE=exports.BIGSTUFFEDDOLL_RINGCELLCOUNT=void 0,exports.BIGSTUFFEDDOLL_RINGCELLCOUNT=36,exports.SINGLECELL_ANGLE=10,exports.calculateCellSize=calculateCellSize;class BigStuffedGameInfo{constructor(){this.ofl=new Map,this.nfl=[],this.CurrentArrowStayTotalIndex=-1,this.CurrentArrowStayRingId=-1,this.CurrentArrowStayRelativeValidAreaIndex=-1,this.CurrentArrowStayCellIndex=0}AddRingInfo(t,s){s=new BigStuffedRingInfo(t,s);return this.ofl.set(t,s),this.nfl.push(s),s}Clear(){for(var[,t]of this.ofl)t.Clear();this.ofl.clear(),this.nfl.length=0,this.CurrentArrowStayTotalIndex=-1,this.CurrentArrowStayRingId=-1,this.CurrentArrowStayRelativeValidAreaIndex=-1,this.CurrentArrowStayCellIndex=0}GetRingInfo(t){return this.ofl.get(t)}UpdateCurrentArrowStayInfo(){if(0!==this.nfl.length){let t=0,s=0;for(const e of this.nfl){if(t+=e.ValidAreas.length,this.CurrentArrowStayTotalIndex<t){this.CurrentArrowStayRingId=e.RingId,this.CurrentArrowStayRelativeValidAreaIndex=this.CurrentArrowStayTotalIndex-s;break}s=t}}}GetValidAreaNum(){let t=0;for(const s of this.nfl)t+=s.ValidAreas.length;return t}OnArrowDirectionReverse(){for(const t of this.nfl)t.OnArrowDirectionReverse()}}exports.BigStuffedGameInfo=BigStuffedGameInfo;class BigStuffedRingInfo{constructor(t,s){this.RingId=t,this.ArrowDirection=s,this.ValidAreas=[],this._bl=new Map,this.ubl=new Map,this.cbl=new Map}Clear(){this.ValidAreas.length=0,this._bl.clear(),this.ubl.clear(),this.cbl.clear()}GetValidAreas(){return this.ValidAreas}AddValidArea(t,s){this.ValidAreas.push(new Area(t,s,this.ArrowDirection))}ClearValidAreas(){this.ValidAreas.length=0}GetGoodAreas(){return this._bl}GetGoodArea(t){return this._bl.get(t)}AddGoodArea(t,s,e){this._bl.set(t,new ContinuousArea(t,s,e,this.ArrowDirection))}RemoveGoodArea(t){this._bl.delete(t)}GetPerfectAreas(){return this.ubl}AddPerfectArea(t,s,e){this.ubl.set(t,new ContinuousArea(t,s,e,this.ArrowDirection))}RemovePerfectArea(t){this.ubl.delete(t)}GetBonusAreas(){return this.cbl}AddBonusArea(t,s,e){this.cbl.set(t,new ContinuousArea(t,s,e,this.ArrowDirection))}OnArrowDirectionReverse(){switch(this.ArrowDirection){case 0:this.ArrowDirection=1;break;case 1:this.ArrowDirection=0}for(const r of this.ValidAreas)r.OnArrowDirectionReverse();for(var[,t]of this._bl)t.OnArrowDirectionReverse();for(var[,s]of this.ubl)s.OnArrowDirectionReverse();for(var[,e]of this.cbl)e.OnArrowDirectionReverse()}}exports.BigStuffedRingInfo=BigStuffedRingInfo;class Area{constructor(t,s,e){this.StartCellIndex=t,this.EndCellIndex=s,this.ArrowDirection=e}OnArrowDirectionReverse(){switch(this.ArrowDirection){case 0:this.ArrowDirection=1;break;case 1:this.ArrowDirection=0}}}class ContinuousArea extends(exports.Area=Area){constructor(t,s,e,r){super(s,e,r),this.ContinuousIndex=t,this.StartCellIndex=s,this.EndCellIndex=e,this.ArrowDirection=r}}exports.ContinuousArea=ContinuousArea;
//# sourceMappingURL=BigStuffedDefine.js.map