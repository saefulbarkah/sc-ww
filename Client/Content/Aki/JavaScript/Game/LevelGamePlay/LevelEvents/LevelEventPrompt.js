
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LevelEventPrompt=void 0;const MultiTextLang_1=require("../../../Core/Define/ConfigQuery/MultiTextLang"),GameplayViewDefine_1=require("../../../Game/Module/LevelPlay/GameplayView/GameplayViewDefine"),IAction_1=require("../../../UniverseEditor/Interface/IAction"),PublicUtil_1=require("../../Common/PublicUtil"),ConfigManager_1=require("../../Manager/ConfigManager"),ControllerHolder_1=require("../../Manager/ControllerHolder"),ModelManager_1=require("../../Manager/ModelManager"),LguiUtil_1=require("../../Module/Util/LguiUtil"),UiManager_1=require("../../Ui/UiManager"),LevelGeneralBase_1=require("../LevelGeneralBase");class LevelEventPrompt extends LevelGeneralBase_1.LevelEventBase{ExecuteNew(e,i){var o=e;if(o){if(3===i.Type){i=ModelManager_1.ModelManager.LevelPlayModel.GetLevelPlayConfig(i.LevelPlayId);if(i&&"Hang"===i.OnlineType&&ModelManager_1.ModelManager.GameModeModel.IsMulti)return}var t=o.TipOption;if(t){let e=void 0,i=void 0,a=0,r=void 0,n=void 0;switch(t.Type){case IAction_1.ECommonTipType.TipId:r=t.Id,a=ConfigManager_1.ConfigManager.GenericPromptConfig.GetPromptInfo(r).TypeId,e=MultiTextLang_1.configMultiTextLang.GetLocalTextNew(ConfigManager_1.ConfigManager.GenericPromptConfig.GetPromptInfo(r).TipsText);break;case IAction_1.ECommonTipType.ChallengeFail:e=t.TidMainText,a=4;break;case IAction_1.ECommonTipType.ChallengeCondition:e=t.TidMainText,i=t.TidSubText,a=0;break;case IAction_1.ECommonTipType.ChallengeSuccess:e=t.TidMainText,a=3;break;case IAction_1.ECommonTipType.GeneralFloatingTip:e=t.TidMainText,a=9;break;case IAction_1.ECommonTipType.MissionComplete:e=t.TidMainText,i=t.TidSubText,a=7;break;case IAction_1.ECommonTipType.ReachChallenge:e=t.TidMainText,a=5;break;case IAction_1.ECommonTipType.TriggerDelegation:e=t.TidMainText,i=t.TidSubText,a=6;break;case IAction_1.ECommonTipType.PrepareCountdown:a=13;break;case IAction_1.ECommonTipType.EnterInRange:var l=t.TidText;return l?((_=new GameplayViewDefine_1.GameplayEnterViewData).InfoId="GameplayEnter",_.TitleId=l,void UiManager_1.UiManager.OpenView("GameplayEnterView",_)):void 0;case IAction_1.ECommonTipType.FirstComplete:l=t.TidText;return l?((_=new GameplayViewDefine_1.GameplayFirstPassViewData).InfoId="GameplayFirstPass",_.TitleId=l,void UiManager_1.UiManager.OpenView("GameplayFirstPassView",_)):void 0;case IAction_1.ECommonTipType.RemainStarWarning:a=18;l=t.WarningText;n=new LguiUtil_1.TableTextArgNew(l);break;case IAction_1.ECommonTipType.DreamlessWarning:a=20;var _=t.WarningText;n=new LguiUtil_1.TableTextArgNew(_);break;case IAction_1.ECommonTipType.PunishReport:l=t;return void UiManager_1.UiManager.OpenView("PunishReportView",l);case IAction_1.ECommonTipType.WhiteCatWarning:a=22;_=t.WarningText;n=new LguiUtil_1.TableTextArgNew(_);break;case IAction_1.ECommonTipType.BlackCatWarning:a=23;l=t.WarningText;n=new LguiUtil_1.TableTextArgNew(l);break;default:return}e=e&&PublicUtil_1.PublicUtil.GetConfigTextByKey(e),i=i&&PublicUtil_1.PublicUtil.GetConfigTextByKey(i),ControllerHolder_1.ControllerHolder.GenericPromptController.ShowPromptByItsType(a,n,void 0,[e],[i],r,void 0,void 0,o.Duration)}else i=e.GeneralTextId,o=ConfigManager_1.ConfigManager.GenericPromptConfig.GetPromptInfo(i).TypeId,ControllerHolder_1.ControllerHolder.GenericPromptController.ShowPromptByItsType(o,void 0,void 0,void 0,void 0,i)}}}exports.LevelEventPrompt=LevelEventPrompt;
//# sourceMappingURL=LevelEventPrompt.js.map